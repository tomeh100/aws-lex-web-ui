{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 278fb0724c3c61ffe0b2","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./src/config/index.js","webpack:///./node_modules/babel-runtime/core-js/object/assign.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///src/components/LexWeb.vue","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///src/components/ToolbarContainer.vue","webpack:///src/components/MessageList.vue","webpack:///./src/components/Message.vue","webpack:///./src/components/MessageText.vue","webpack:///./src/components/ResponseCard.vue","webpack:///src/components/MessageLoading.vue","webpack:///src/components/InputContainer.vue","webpack:///src/components/RecorderStatus.vue","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js","webpack:///./src/lex-web-ui.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///external \"vue\"","webpack:///external \"vuex\"","webpack:///external \"aws-sdk/global\"","webpack:///external \"aws-sdk/clients/lexruntime\"","webpack:///external \"aws-sdk/clients/polly\"","webpack:///./src/components/LexWeb.vue?b19d","webpack:///./src/components/LexWeb.vue?e5c7","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/components/ToolbarContainer.vue","webpack:///./src/components/ToolbarContainer.vue?36d6","webpack:///./src/components/MessageList.vue?1c68","webpack:///./src/components/MessageList.vue?b689","webpack:///./src/components/Message.vue?3319","webpack:///./src/components/Message.vue?826c","webpack:///./src/components/MessageText.vue?588c","webpack:///./src/components/MessageText.vue?5dfe","webpack:///./node_modules/markdown/lib/index.js","webpack:///./node_modules/markdown/lib/markdown.js","webpack:///./node_modules/util/util.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./src/components/MessageText.vue?8a20","webpack:///./src/components/ResponseCard.vue?b224","webpack:///./src/components/ResponseCard.vue?4c73","webpack:///./src/components/ResponseCard.vue?0ab6","webpack:///./src/components/Message.vue?49c7","webpack:///./src/components/MessageLoading.vue?c676","webpack:///./src/components/MessageLoading.vue?a900","webpack:///./src/components/MessageLoading.vue?1d91","webpack:///./src/components/MessageList.vue?60bb","webpack:///./src/components/InputContainer.vue?8884","webpack:///./src/components/InputContainer.vue?eda1","webpack:///./src/components/RecorderStatus.vue?4ff6","webpack:///./src/components/RecorderStatus.vue?4b1e","webpack:///./src/components/RecorderStatus.vue?b5ab","webpack:///./src/components/InputContainer.vue?7e5c","webpack:///./src/components/LexWeb.vue?e5b7","webpack:///./src/store/index.js","webpack:///./src/store/state.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/config ^\\.\\/config\\..*\\.json$","webpack:///./src/config/config.dev.json","webpack:///./src/config/config.prod.json","webpack:///./src/config/config.test.json","webpack:///./src/store/getters.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/lib/lex/recorder.js","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./src/lib/lex/wav-worker.js","webpack:///./node_modules/worker-loader/dist/workers/InlineWorker.js","webpack:///./src/store/recorder-handlers.js","webpack:///./src/assets/silent.ogg","webpack:///./src/assets/silent.mp3","webpack:///./src/lib/lex/client.js"],"names":["envShortName","find","startsWith","env","console","error","configEnvFile","require","configDefault","region","cognito","poolId","lex","botName","botAlias","initialText","initialSpeechInstruction","sessionAttributes","reInitSessionAttributesOnRestart","enablePlaybackInterrupt","playbackInterruptVolumeThreshold","playbackInterruptLevelThreshold","playbackInterruptNoiseThreshold","playbackInterruptMinDuration","polly","voiceId","ui","pageTitle","parentOrigin","textInputPlaceholder","toolbarColor","toolbarTitle","toolbarLogo","favIcon","pushInitialTextOnRestart","convertUrlToLinksInBotMessages","stripTagsFromBotMessages","showErrorDetails","showMessageDate","avatarImageUrl","AllowSuperDangerousHTMLInMessage","recorder","enable","recordingTimeMax","recordingTimeMin","quietThreshold","quietTimeMin","volumeThreshold","useAutoMuteDetect","useBandPass","encoderUseTrim","converser","silentConsecutiveRecordingMax","urlQueryParams","getUrlQueryParams","url","split","slice","reduce","params","queryString","map","queryObj","param","key","value","paramObj","decodeURIComponent","e","getConfigFromQuery","query","lexWebUiConfig","JSON","parse","mergeConfig","baseConfig","srcConfig","deep","mergeValue","base","src","shouldMergeDeep","merged","configItem","configFromFiles","queryParams","window","location","href","configFromQuery","configFromMerge","config","name","props","components","MessageText","ResponseCard","data","isMessageFocused","messageHumanDate","computed","botDialogState","message","dialogState","icon","color","state","botAvatarUrl","$store","shouldDisplayResponseCard","responseCard","version","contentType","genericAttachments","Array","shouldShowAvatarImage","type","botAvatarBackground","background","shouldShowMessageDate","methods","playAudio","audioElem","$el","querySelector","play","onMessageFocus","getMessageHumanDate","id","messages","length","$emit","onMessageBlur","dateDiff","Math","round","Date","date","secsInHr","secsInDay","floor","toLocaleTimeString","toLocaleString","markdown","shouldConvertUrlToLinks","shouldStripTags","altHtmlMessage","appContext","out","alts","altMessages","html","toHTML","shouldRenderAsHtml","botMessageAsHtml","messageText","stripTagsFromMessage","text","messageWithLinks","botMessageWithLinks","encodeAsHtml","replace","linkReplacers","regex","RegExp","item","test","encodeURI","replacer","messageAccum","index","array","messageResult","urlItem","doc","document","implementation","createHTMLDocument","body","innerHTML","textContent","innerText","hasButtonBeenClicked","onButtonClick","dispatch","Component","template","LexWeb","loadingComponent","errorComponent","AsyncComponent","component","resolve","loading","delay","timeout","Plugin","install","VueConstructor","componentName","awsConfig","lexRuntimeClient","pollyClient","warn","prototype","Store","Loader","mergedConfig","Vue","Error","VuexConstructor","Vuex","AWSConfigConstructor","AWS","Config","CognitoConstructor","CognitoIdentityCredentials","PollyConstructor","Polly","LexRuntimeConstructor","LexRuntime","credentials","IdentityPoolId","store","use","strict","getters","mutations","actions","acceptFormat","isInterrupting","isProcessing","inputTranscript","intentName","slotToElicit","slots","outputFormat","botAudio","canInterrupt","interruptIntervalId","autoPlay","isSpeaking","recState","isConversationGoing","isMicMuted","isMicQuiet","isRecorderSupported","isRecorderEnabled","isRecording","silentRecordingCount","isRunningEmbedded","isUiMinimized","awsCreds","provider","canInterruptBotPlayback","isBotSpeaking","isLexInterrupting","isLexProcessing","setIsMicMuted","bool","setIsMicQuiet","setIsConversationGoing","startRecording","info","start","stopRecording","stop","increaseSilentRecordingCount","resetSilentRecordingCount","setIsRecorderEnabled","setIsRecorderSupported","setIsBotSpeaking","setAudioAutoPlay","audio","status","autoplay","setCanInterruptBotPlayback","setIsBotPlaybackInterrupting","setBotPlaybackInterruptIntervalId","updateLexState","lexState","setLexSessionAttributes","setIsLexProcessing","setIsLexInterrupting","setAudioContentType","setPollyVoiceId","origin","configFiltered","setIsRunningEmbedded","toggleIsUiMinimized","pushMessage","push","setAwsCredsProvider","awsCredentials","lexClient","initCredentials","context","reject","getConfigFromParent","event","then","configResponse","initConfig","configObj","commit","initMessageList","initLexClient","initPollyClient","client","creds","initRecorder","init","initOptions","initRecorderHandlers","catch","indexOf","initBotAudio","audioElement","silentSound","canPlayType","mimeType","preload","reInitBot","getAudioUrl","blob","URL","createObjectURL","err","errorMessage","onended","onerror","onloadedmetadata","playAudioHandler","clearPlayback","intervalId","clearInterval","onpause","playAudioInterruptHandler","intervalTimeInMs","duration","setInterval","end","played","volume","max","slow","setTimeout","pause","getAudioProperties","currentTime","ended","paused","startConversation","stopConversation","getRecorderVolume","pollyGetBlob","format","synthReq","synthesizeSpeech","Text","VoiceId","OutputFormat","TextType","promise","Blob","AudioStream","ContentType","pollySynthesizeSpeech","audioUrl","interruptSpeechConversation","count","countMax","postTextMessage","response","lexPostText","postText","lexPostContent","audioBlob","offset","size","timeStart","performance","now","postContent","lexResponse","timeEnd","toFixed","processLexContentResponse","lexData","audioStream","lexStateDefault","pushErrorMessage","getCredentialsFromParent","expireTime","credsExpirationDate","credsResponse","Credentials","AccessKeyId","SecretKey","SessionToken","IdentityId","accessKeyId","secretAccessKey","sessionToken","identityId","expired","getPromise","getCredentials","sendMessageToParentWindow","messageChannel","MessageChannel","port1","onmessage","evt","close","port2","parent","postMessage","options","_eventTarget","createDocumentFragment","_encoderWorker","addEventListener","_exportWav","preset","_getPresetOptions","recordingTimeMinAutoIncrease","autoStopRecording","bandPassFrequency","bandPassQ","bufferLength","numChannels","requestEchoCancellation","muteThreshold","encoderQuietTrimThreshold","encoderQuietTrimSlackBack","_presets","presets","low_latency","speech_recognition","_state","_instant","_slow","_clip","_maxVolume","Infinity","_isMicQuiet","_isMicMuted","_isSilentRecording","_silentRecordingConsecutiveCount","_initAudioContext","_initMicVolumeProcessor","_initStream","_stream","_recordingStartTime","_audioContext","dispatchEvent","Event","command","sampleRate","useTrim","quietTrimThreshold","quietTrimSlackBack","_quietStartTime","CustomEvent","detail","inputBuffer","buffer","i","numberOfChannels","getChannelData","_tracks","muted","AudioContext","webkitAudioContext","hidden","suspend","resume","processor","createScriptProcessor","onaudioprocess","_recordBuffers","input","sum","clipCount","abs","sqrt","_setIsMicMuted","_setIsMicQuiet","_analyser","getFloatFrequencyData","_analyserData","_micVolumeProcessor","constraints","optional","echoCancellation","navigator","mediaDevices","getUserMedia","stream","getAudioTracks","label","onmute","onunmute","source","createMediaStreamSource","gainNode","createGain","analyser","createAnalyser","biquadFilter","createBiquadFilter","frequency","gain","Q","connect","smoothingTimeConstant","fftSize","minDecibels","maxDecibels","Float32Array","frequencyBinCount","destination","instant","clip","cb","module","exports","__webpack_public_path__","onstart","time","onstop","onsilentrecording","onunsilentrecording","onstreamready","onquiet","onunquiet","ondataavailable","lexAudioBlob","all","audioUrls","humanAudioUrl","lexAudioUrl","userId","random","toString","substring","inputText","postTextReq","mediaType","postContentReq","accept","inputStream"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA,6BAA6B;AAC7B,uCAAuC;;;;;;;ACDvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;ACLzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;AC5DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtGA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;ACHD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;ACPA;AACA;AACA;;;;;;;ACFA,uBAAuB;AACvB;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA,kBAAkB,wD;;;;;;ACAlB;;;;;;;;ACAA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,E;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACNA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;ACJA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;AChBD;AACA;AACA;AACA;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;;;ACJA,cAAc;;;;;;;ACAd;AACA;AACA;AACA;AACA;;;;;;;ACJA;;;;;;;ACAA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA,kDAAkD;AAClD;AACA,uCAAuC;AACvC;;;;;;;ACLA;AACA;AACA;AACA;;;;;;;ACHA;;;;;;;;ACAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,E;;;;;;ACRA,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACjBA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,iHAAiH,mBAAmB,EAAE,mBAAmB,4JAA4J;;AAErT,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,CAAC;AACD;AACA,E;;;;;;ACpBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;;;;;;;;;;;;;AAaA;;;;;;;;;;;;;;;;;AAiBA;;AAEA;;AAEA;AACA,IAAMA,eAAe,CACnB,KADmB,EAEnB,MAFmB,E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+D,gBAAgB/D,EAAhB,CAAmBE,YAA7C,EAA2D;AACzD,SAAO6D,gBAAgB/D,EAAhB,CAAmBE,YAA1B;AACD;;AAED,IAAM8D,kBAAkBhB,YAAYU,eAAZ,EAA6BK,eAA7B,CAAxB;;AAEO,IAAME,SAAA,qEAAAA,KACRD,eADQ;AAEXrC,kBAAgBgC;AAFL,EAAN,C;;;;;;AC1UP,kBAAkB,wD;;;;;;ACAlB;AACA,qEAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;ACFD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;ACrEA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;ACxCA;AACA;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;ACNA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgBA;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;;AAEA;QAEA;;AAEA;AACA;AAEA;AAJA;;kEAMA;0CACA;AACA;0DACA;yCACA;AACA;0CACA;yCACA;AACA;0CACA;yCACA;AACA;wCACA;yCACA;AACA;4CACA;+BACA;AACA;kCACA;+BACA;AACA;kCACA;6BACA;sCACA,iEACA,iBACA,kCACA,0CAEA;AAEA;AA/BA;;AAiCA;kCACA;wCACA;AAEA;AALA;;AAMA;;AACA;AACA;wBACA;iDACA;AAEA;;SACA;uFACA,cACA,SACA,6CAEA,oCACA,8BACA,SACA,6CAGA;;uFACA,uBACA,6EACA,qEAEA;;AACA,gCACA,iCACA,SACA,sCAEA,mFAEA;;qBACA,KACA,mEAEA;8BACA;wEACA;AACA;AACA;;;kDAEA;kCACA;AACA;;AACA;iDACA;AACA;mEACA;6DACA;AACA;AACA;wEACA;iEACA;AACA;AACA;uBACA;aACA;uBACA;;mBAEA;2BAEA;AAHA;AAIA;AACA;aACA;sEACA;AACA;aACA;+BACA;;+CAGA;AAFA;;AAGA;aACA;iCACA;;qBAEA;6BACA;qBAEA;AAJA;AAKA;AAEA;;sBACA,SACA,mDAEA;;+CAGA;AAFA;;AAGA;AACA;4DACA;AAEA;;AACA;8CACA;gDACA;qBACA;AACA;AAEA;;cACA,KACA,yDAEA;gEACA;cACA,KACA,oDAEA;oBACA,gDACA,eACA;gBACA,KACA,sHAEA;AACA;AACA;;AACA;;4EACA;mDACA;kDACA;aACA;gEACA;mDACA;kDACA;AAEA;;AACA;+DACA;sCACA;;AACA;;AACA,iGACA,8HAEA;;sBACA;;AAEA;AApGA;AArFA,G;;;;;;AC7CA,kBAAkB,yD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8ClB;;;;;;;;;;;;AACA;QAEA;wBACA;;yBAEA;;yBAEA;yBACA;yBACA;uBACA;0BAGA;AAPA;AAFA;AAUA;;yDACA;;gDAEA;+CACA;AAEA;AAJA;;gEAMA;+BACA;AACA;gEACA;+BACA;AACA;8CACA;WACA;iBACA;AAEA;AAXA;AApBA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;;;;;;;;;;;;AACA;AACA;;AAEA;QAEA;;AAEA;AAEA;AAHA;;kCAKA;+BACA;AACA;gCACA;mCACA;AAEA;AAPA;;AASA;kCACA;WACA;AAEA;AALA;;;AAOA;;wCACA;wCACA;AACA;AAEA;AANA;AApBA,G;;;;;;;;ACpCA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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ACA;;AAEA;;AAEA;QAEA;wBACA;;iBAEA;0BACA;yBACA;AACA;;yBAEA;yBACA;yBACA;uBACA;0BAGA;AAPA;AALA;AAaA;;kCACA;;AAGA;AAFA;;4CAIA;wCACA;AACA;oEACA;wCACA;AACA;wDACA;kBACA;AACA;sCACA;wCACA;AACA;wDACA;wCACA;AACA;oDACA;wCACA;AACA;0DACA;qCACA;AACA;4CACA;2BACA;eACA;AACA;gEACA;eACA;AACA;aACA;AACA;sDACA;qCACA;eACA;AACA;2BACA;eACA;AACA;gEACA;eACA;AACA;aACA;AACA;0DACA;AACA,2CACA,yDAEA;AACA;wDACA;0CACA;AAEA;AApDA;;gEAsDA;+BACA;AACA;gEACA;+BACA;AACA;sCACA;WACA;gEACA;oCACA;AACA;2CACA;oBACA;AAEA;;mFACA;AACA;kDACA;gCACA;AACA;gDACA;6DACA;kCACA;AACA;AACA;;AACA;;6CACA;AACA,sDAGA;;;aACA,6BACA,SACA,8BAEA,kGACA;AACA;;AACA;;WACA;sCACA;AACA;kCACA;qFACA;AAEA;;;cAEA;mBAGA;AAJA;;qDAKA,0BACA;2BACA;AACA;AACA;;AACA;;2BACA;qFACA;AACA;kBACA;sBACA;;sCACA;gCACA;0DACA;yDACA,iCAEA;;sBACA,SACA,oBACA,sEAEA;AACA;AACA;;AAQA;;;;;;;;wCACA;+CACA;qFACA;AACA;kCACA;AAEA;AA1FA;AA1EA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;;;;;;;;;;;;;AAEA;;AAEA;QAEA;wBACA;;cAEA;wBACA;wBACA;uBAEA;AALA;AAMA;;;oEAEA;kBACA;AACA;0CACA;AACA,kBACA,mCACA,qBAEA;AACA;sCACA;+BACA;eACA;AACA;wCACA;eACA;AACA;2BACA;eACA;AACA;4BACA;eACA;AACA;8BACA;eACA;AACA;0CACA;eACA;AACA;oCACA;eACA;AACA;aACA;AACA;gEACA;wCACA;AACA;4CACA;wCACA;AACA;wDACA;wCACA;AA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AAe0B,GAAf,CAAmB5B,MAAnB,EAA2B;AACzBzG,YAAQoH,YADiB;AAEzBP,wBAFyB;AAGzBC,sCAHyB;AAIzBC;AAJyB,GAA3B;AAMD,CA7DH,C;;;;;;AC3GA;AACA;;;;;;;ACDA;AACA;;AAEA,0CAA0C,kCAAsC;;;;;;;;ACHhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU,EAAE;AAChD,mBAAmB,sCAAsC;AACzD,CAAC,qCAAqC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;ACjCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA,oEAAuE,2CAA4C;;;;;;;ACFnH;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChBA;AACA;AACA;AACA;AACA;;AAEA;AACA,2FAAkF,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA,8BAA8B;;;;;;;ACA9B;AACA,UAAU;AACV;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AChRD;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBH;AACA;AACA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;ACXH,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;;;;ACAA;AAAA;AACA,yBAAsT;AACtT;AACA;AACA;AACA;AACA;AACA;AAC+Q;AAC/Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA,yC;;;;;;ACAA;AACA;;;;;;;ACDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;;;ACTA;AAAA;AACA;AACA;AACA;AACA;AAC+Q;AAC/Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvBA,0BAA0B,aAAa,0BAA0B,wBAAwB,uBAAuB,OAAO,mEAAmE,8BAA8B,OAAO,uBAAuB,6CAA6C,iCAAiC,4GAA4G,OAAO,wCAAwC,QAAQ,uDAAuD,0BAA0B,iCAAiC,aAAa,OAAO,wBAAwB,8GAA8G,oCAAoC,UAAU,KAAK,4BAA4B;AACl0B;AACA,iBAAiB;AACjB,kE;;;;;;;;;ACHA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACA;AAC8Q;AAC9Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA,yC;;;;;;;;;ACAA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACA;AAC8Q;AAC9Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA,yC;;;;;;;;;ACAA;AAAA;AACA,yBAAqT;AACrT;AACA;AACA;AACA;AACA;AACA;AAC8Q;AAC9Q;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA,yC;;;;;;ACAA;AACA;AACA;;;;;;;ACFA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,IAAI;;AAEpC;;AAEA,gCAAgC,uBAAuB;AACvD;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA,gCAAgC,gBAAgB;;AAEhD;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,IAAI,KAAK,EAAE;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,kBAAkB,EAAE;;AAE1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,wEAAwE,GAAG;;AAE3E;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,IAAI;AAC5C,4BAA4B,IAAI,MAAM,EAAE;;AAExC;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,gBAAgB,EAAE,IAAI;AACxD;AACA,+BAA+B,oBAAoB,IAAI,IAAI;AAC3D;AACA;AACA;AACA,iCAAiC,IAAI;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kDAAkD,cAAc;AAChE,qDAAqD,cAAc;AACnE;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,2BAA2B;AAClD;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,wBAAwB;AACxD;AACA,+DAA+D,QAAQ,WAAW,EAAE;;AAEpF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA,uBAAuB;AACvB,MAAM,iBAAiB;;AAEvB,8BAA8B;;AAE9B;AACA;AACA,gCAAgC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,qBAAqB;AACrB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C,qDAAqD;AACjG;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B,4BAA4B,kBAAkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,iBAAiB;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;AACA,2CAA2C,yBAAyB;;AAEpE;AACA;AACA,2CAA2C,aAAa;AACxD;AACA;AACA,2CAA2C,aAAa;AACxD;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAU;AACV;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8BAA8B;AAC9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,IAAI,EAAE,YAAY,KAAK,SAAS;AAChE;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,mBAAmB;AACvC;AACA;AACA;;AAEA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,iCAAiC,aAAa,gBAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,IAAI,UAAU,IAAI;AAC7C;AACA,8BAA8B,IAAI,2BAA2B,IAAI;AACjE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D,eAAe;AAC1E,2DAA2D,cAAc;AACzE,2DAA2D,gBAAgB;AAC3E,4DAA4D;AAC5D,KAAK;;AAEL;AACA;AACA,eAAe,iBAAiB;AAChC,mDAAmD;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC,oDAAoD;AACpD;AACA;AACA,KAAK;;AAEL;AACA;;AAEA,mCAAmC;AACnC;AACA,kBAAkB;AAClB;;AAEA;AACA;;AAEA;AACA,kBAAkB;AAClB;;AAEA;AACA,0BAA0B,YAAY,KAAK,SAAS;;AAEpD;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D;;AAE1D;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mCAAmC;AACnC,kCAAkC;AAClC,kCAAkC;AAClC,oCAAoC;AACpC,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,mBAAmB;AAC5B;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;AC5rDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACzkBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtBA,0BAA0B,aAAa,0BAA0B,wBAAwB,oEAAoE,2BAA2B,wHAAwH,qCAAqC,wCAAwC,yDAAyD,qCAAqC,0CAA0C,6DAA6D,2BAA2B;AAC7lB;AACA,iBAAiB;AACjB,kE;;;;;;;;;ACHA;AAAA;AACA,yB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BC,MAAtC,GAA+C,IAN1D;AAOR8M,iBAAa,KAPL;AAQRC,0BAAsB;AARd,GApCG;;AA+CbC,qBAAmB,KA/CN,EA+Ca;AAC1BC,iBAAe,KAhDF,EAgDS;AACtBhK,UAAA,uDAjDa;;AAmDbiK,YAAU;AACRC,cAAU,SADF,CACa;AADb;AAnDG,CAAf,E;;;;;;AClBA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;;;;;;;ACFA,kBAAkB,yD;;;;;;ACAlB;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACdA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;ACfA;;;;;;;ACAA;;;;;;;;ACAA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AA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","file":"bundle/lex-web-ui.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"), require(\"vuex\"), require(\"aws-sdk/global\"), require(\"aws-sdk/clients/lexruntime\"), require(\"aws-sdk/clients/polly\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vue\", \"vuex\", \"aws-sdk/global\", \"aws-sdk/clients/lexruntime\", \"aws-sdk/clients/polly\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LexWebUi\"] = factory(require(\"vue\"), require(\"vuex\"), require(\"aws-sdk/global\"), require(\"aws-sdk/clients/lexruntime\"), require(\"aws-sdk/clients/polly\"));\n\telse\n\t\troot[\"LexWebUi\"] = factory(root[\"vue\"], root[\"vuex\"], root[\"aws-sdk/global\"], root[\"aws-sdk/clients/lexruntime\"], root[\"aws-sdk/clients/polly\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_100__, __WEBPACK_EXTERNAL_MODULE_101__, __WEBPACK_EXTERNAL_MODULE_102__, __WEBPACK_EXTERNAL_MODULE_103__, __WEBPACK_EXTERNAL_MODULE_104__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 75);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 278fb0724c3c61ffe0b2","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 0\n// module chunks = 0","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 1\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 2\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 3\n// module chunks = 0","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 4\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 5\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 6\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 7\n// module chunks = 0","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 8\n// module chunks = 0","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 9\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 10\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 11\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 12\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 13\n// module chunks = 0","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 14\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = 15\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 16\n// module chunks = 0","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 17\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 18\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 19\n// module chunks = 0","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 20\n// module chunks = 0","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 21\n// module chunks = 0","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 22\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 23\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 24\n// module chunks = 0","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 25\n// module chunks = 0","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 26\n// module chunks = 0","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 27\n// module chunks = 0","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 28\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 29\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 30\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 31\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 32\n// module chunks = 0","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 33\n// module chunks = 0","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 34\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 35\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 36\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = 37\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 38\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 39\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 40\n// module chunks = 0","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 41\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 42\n// module chunks = 0","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 43\n// module chunks = 0","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 44\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Application configuration management.\n * This file contains default config values and merges the environment\n * and URL configs.\n *\n * The environment dependent values are loaded from files\n * with the config.<ENV>.json naming syntax (where <ENV> is a NODE_ENV value\n * such as 'prod' or 'dev') located in the same directory as this file.\n *\n * The URL configuration is parsed from the `config` URL parameter as\n * a JSON object\n *\n * NOTE: To avoid having to manually merge future changes to this file, you\n * probably want to modify default values in the config.<ENV>.js files instead\n * of this one.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n// TODO turn this into a class\n\n// get env shortname to require file\nconst envShortName = [\n  'dev',\n  'prod',\n  'test',\n].find(env => process.env.NODE_ENV.startsWith(env));\n\nif (!envShortName) {\n  console.error('unknown environment in config: ', process.env.NODE_ENV);\n}\n\n// eslint-disable-next-line import/no-dynamic-require\nconst configEnvFile = require(`./config.${envShortName}.json`);\n\n// default config used to provide a base structure for\n// environment and dynamic configs\nconst configDefault = {\n  // AWS region\n  region: 'us-east-1',\n\n  cognito: {\n    // Cognito pool id used to obtain credentials\n    // e.g. poolId: 'us-east-1:deadbeef-cac0-babe-abcd-abcdef01234',\n    poolId: '',\n  },\n\n  lex: {\n    // Lex bot name\n    botName: 'WebUiOrderFlowers',\n\n    // Lex bot alias/version\n    botAlias: '$LATEST',\n\n    // instruction message shown in the UI\n    initialText: 'You can ask me for help ordering flowers. ' +\n      'Just type \"order flowers\" or click on the mic and say it.',\n\n    // instructions spoken when mic is clicked\n    initialSpeechInstruction: 'Say \"Order Flowers\" to get started',\n\n    // Lex initial sessionAttributes\n    sessionAttributes: {},\n\n    // controls if the session attributes are reinitialized a\n    // after the bot dialog is done (i.e. fail or fulfilled)\n    reInitSessionAttributesOnRestart: true,\n\n    // TODO move this config fields to converser\n    // allow to interrupt playback of lex responses by talking over playback\n    // XXX experimental\n    enablePlaybackInterrupt: false,\n\n    // microphone volume level (in dB) to cause an interrupt in the bot\n    // playback. Lower (negative) values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptVolumeThreshold: -60,\n\n    // microphone slow sample level to cause an interrupt in the bot\n    // playback. Lower values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptLevelThreshold: 0.0075,\n\n    // microphone volume level (in dB) to cause enable interrupt of bot\n    // playback. This is used to prevent interrupts when there's noise\n    // For interrupt to be enabled, the volume level should be lower than this\n    // value. Lower (negative) values makes interrupt more likely\n    // may need to adjusted down if using low_latency preset or band pass filter\n    playbackInterruptNoiseThreshold: -75,\n\n    // only allow to interrupt playback longer than this value (in seconds)\n    playbackInterruptMinDuration: 2,\n  },\n\n  polly: {\n    voiceId: 'Joanna',\n  },\n\n  ui: {\n    // TODO may want to move pageTitle out to LexApp or Page component\n    // title of HTML page added dynamically to index.html\n    pageTitle: 'Order Flowers Bot',\n\n    // when running as an embedded iframe, this will be used as the\n    // be the parent origin used to send/receive messages\n    // NOTE: this is also a security control\n    // this parameter should not be dynamically overriden\n    // avoid making it '*'\n    // if left as an empty string, it will be set to window.location.window\n    // to allow runing embedded in a single origin setup\n    parentOrigin: null,\n\n    // chat window text placeholder\n    textInputPlaceholder: 'Type here or click on the mic',\n\n    toolbarColor: 'red',\n\n    // chat window title\n    toolbarTitle: 'Order Flowers',\n\n    // logo used in toolbar - also used as favicon not specificied\n    toolbarLogo: '',\n\n    // fav icon\n    favIcon: '',\n\n    // controls if the Lex initialText will be pushed into the message\n    // list after the bot dialog is done (i.e. fail or fulfilled)\n    pushInitialTextOnRestart: true,\n\n    // controls if the Lex sessionAttributes should be re-initialized\n    // to the config value (i.e. lex.sessionAttributes)\n    // after the bot dialog is done (i.e. fail or fulfilled)\n    reInitSessionAttributesOnRestart: false,\n\n    // controls whether URLs in bot responses will be converted to links\n    convertUrlToLinksInBotMessages: true,\n\n    // controls whether tags (e.g. SSML or HTML) should be stripped out\n    // of bot messages received from Lex\n    stripTagsFromBotMessages: true,\n\n    // controls whether detailed error messages are shown in bot responses\n    showErrorDetails: false,\n\n    // show date when message was received on buble focus/selection\n    showMessageDate: true,\n\n    // bot avatar image URL\n    avatarImageUrl: '',\n\n    // Allows lex messages with session attribute\n    // altMessageFormat=\"html\" to be rendered as html in the message\n    // Enabling this feature increases the risk of XSS.\n    // Make sure that the HTML message has been properly\n    // escaped/encoded/filtered in the Lambda function\n    // https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)\n    AllowSuperDangerousHTMLInMessage: false,\n  },\n\n  /* Configuration to enable voice and to pass options to the recorder\n   * see ../lib/recorder.js for details about all the available options.\n   * You can override any of the defaults in recorder.js by adding them\n   * to the corresponding JSON config file (config.<ENV>.json)\n   * or alternatively here\n   */\n  recorder: {\n    // if set to true, voice interaction would be enabled on supported browsers\n    // set to false if you don't want voice enabled\n    enable: true,\n\n    // maximum recording time in seconds\n    recordingTimeMax: 10,\n\n    // Minimum recording time in seconds.\n    // Used before evaluating if the line is quiet to allow initial pauses\n    // before speech\n    recordingTimeMin: 2.5,\n\n    // Sound sample threshold to determine if there's silence.\n    // This is measured against a value of a sample over a period of time\n    // If set too high, it may falsely detect quiet recordings\n    // If set too low, it could take long pauses before detecting silence or\n    // not detect it at all.\n    // Reasonable values seem to be between 0.001 and 0.003\n    quietThreshold: 0.002,\n\n    // time before automatically stopping the recording when\n    // there's silence. This is compared to a slow decaying\n    // sample level so its's value is relative to sound over\n    // a period of time. Reasonable times seem to be between 0.2 and 0.5\n    quietTimeMin: 0.3,\n\n    // volume threshold in db to determine if there's silence.\n    // Volume levels lower than this would trigger a silent event\n    // Works in conjuction with `quietThreshold`. Lower (negative) values\n    // cause the silence detection to converge faster\n    // Reasonable values seem to be between -75 and -55\n    volumeThreshold: -65,\n\n    // use automatic mute detection\n    useAutoMuteDetect: false,\n\n    // use a bandpass filter on mic input\n    useBandPass: false,\n\n    // trim low volume samples at beginning and end of recordings\n    encoderUseTrim: false,\n  },\n\n  converser: {\n    // used to control maximum number of consecutive silent recordings\n    // before the conversation is ended\n    silentConsecutiveRecordingMax: 3,\n  },\n\n  // URL query parameters are put in here at run time\n  urlQueryParams: {},\n};\n\n/**\n * Obtains the URL query params and returns it as an object\n * This can be used before the router has been setup\n */\nfunction getUrlQueryParams(url) {\n  try {\n    return url\n      .split('?', 2) // split query string up to a max of 2 elems\n      .slice(1, 2) // grab what's after the '?' char\n      // split params separated by '&'\n      .reduce((params, queryString) => queryString.split('&'), [])\n      // further split into key value pairs separated by '='\n      .map(params => params.split('='))\n      // turn into an object representing the URL query key/vals\n      .reduce((queryObj, param) => {\n        const [key, value = true] = param;\n        const paramObj = {\n          [key]: decodeURIComponent(value),\n        };\n        return { ...queryObj, ...paramObj };\n      }, {});\n  } catch (e) {\n    console.error('error obtaining URL query parameters', e);\n    return {};\n  }\n}\n\n/**\n * Obtains and parses the config URL parameter\n */\nfunction getConfigFromQuery(query) {\n  try {\n    return (query.lexWebUiConfig) ? JSON.parse(query.lexWebUiConfig) : {};\n  } catch (e) {\n    console.error('error parsing config from URL query', e);\n    return {};\n  }\n}\n\n/**\n * Merge two configuration objects\n * The merge process takes the base config as the source for keys to be merged.\n * The values in srcConfig take precedence in the merge.\n *\n * If deep is set to false (default), a shallow merge is done down to the\n * second level of the object. Object values under the second level fully\n * overwrite the base. For example, srcConfig.lex.sessionAttributes overwrite\n * the base as an object.\n *\n * If deep is set to true, the merge is done recursively in both directions.\n */\nexport function mergeConfig(baseConfig, srcConfig, deep = false) {\n  function mergeValue(base, src, key, shouldMergeDeep) {\n    // nothing to merge as the base key is not found in the src\n    if (!(key in src)) {\n      return base[key];\n    }\n\n    // deep merge in both directions using recursion\n    if (shouldMergeDeep && typeof base[key] === 'object') {\n      return {\n        ...mergeConfig(src[key], base[key], shouldMergeDeep),\n        ...mergeConfig(base[key], src[key], shouldMergeDeep),\n      };\n    }\n\n    // shallow merge key/values\n    // overriding the base values with the ones from the source\n    return (typeof base[key] === 'object') ?\n      { ...base[key], ...src[key] } :\n      src[key];\n  }\n\n  // use the baseConfig first level keys as the base for merging\n  return Object.keys(baseConfig)\n    .map((key) => {\n      const value = mergeValue(baseConfig, srcConfig, key, deep);\n      return { [key]: value };\n    })\n    // merge key values back into a single object\n    .reduce((merged, configItem) => ({ ...merged, ...configItem }), {});\n}\n\n// merge build time parameters\nconst configFromFiles = mergeConfig(configDefault, configEnvFile);\n\n// TODO move query config to a store action\n// run time config from url query parameter\nconst queryParams = getUrlQueryParams(window.location.href);\nconst configFromQuery = getConfigFromQuery(queryParams);\n// security: delete origin from dynamic parameter\nif (configFromQuery.ui && configFromQuery.ui.parentOrigin) {\n  delete configFromQuery.ui.parentOrigin;\n}\n\nconst configFromMerge = mergeConfig(configFromFiles, configFromQuery);\n\nexport const config = {\n  ...configFromMerge,\n  urlQueryParams: queryParams,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/assign.js\n// module id = 46\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 47\n// module chunks = 0","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 48\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 49\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 51\n// module chunks = 0","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 52\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 53\n// module chunks = 0","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 54\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 55\n// module chunks = 0","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 56\n// module chunks = 0","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 57\n// module chunks = 0","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 58\n// module chunks = 0","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 59\n// module chunks = 0","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 60\n// module chunks = 0","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 61\n// module chunks = 0","<template>\n  <v-app id=\"lex-web\"\n  >\n    <toolbar-container\n      v-bind:toolbar-title=\"toolbarTitle\"\n      v-bind:toolbar-color=\"toolbarColor\"\n      v-bind:toolbar-logo=\"toolbarLogo\"\n      v-bind:is-ui-minimized=\"isUiMinimized\"\n      v-on:toggleMinimizeUi=\"toggleMinimizeUi\"\n    ></toolbar-container>\n\n    <v-content>\n      <v-container class=\"message-list-container\" fluid pa-0>\n        <message-list v-show=\"!isUiMinimized\"\n        ></message-list>\n      </v-container>\n    </v-content>\n\n    <input-container\n      v-if=\"!isUiMinimized\"\n      v-bind:text-input-placeholder=\"textInputPlaceholder\"\n      v-bind:initial-speech-instruction=\"initialSpeechInstruction\"\n    ></input-container>\n  </v-app>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"info\"] }] */\nimport ToolbarContainer from '@/components/ToolbarContainer';\nimport MessageList from '@/components/MessageList';\nimport InputContainer from '@/components/InputContainer';\n\nexport default {\n  name: 'lex-web',\n  components: {\n    ToolbarContainer,\n    MessageList,\n    InputContainer,\n  },\n  computed: {\n    initialSpeechInstruction() {\n      return this.$store.state.config.lex.initialSpeechInstruction;\n    },\n    textInputPlaceholder() {\n      return this.$store.state.config.ui.textInputPlaceholder;\n    },\n    toolbarColor() {\n      return this.$store.state.config.ui.toolbarColor;\n    },\n    toolbarTitle() {\n      return this.$store.state.config.ui.toolbarTitle;\n    },\n    toolbarLogo() {\n      return this.$store.state.config.ui.toolbarLogo;\n    },\n    isUiMinimized() {\n      return this.$store.state.isUiMinimized;\n    },\n    lexState() {\n      return this.$store.state.lex;\n    },\n    isMobile() {\n      const mobileResolution = 900;\n      return (this.$vuetify.breakpoint.smAndDown &&\n        'navigator' in window && navigator.maxTouchPoints > 0 &&\n        'screen' in window &&\n        (window.screen.height < mobileResolution ||\n          window.screen.width < mobileResolution)\n      );\n    },\n  },\n  watch: {\n    // emit lex state on changes\n    lexState() {\n      this.$emit('updateLexState', this.lexState);\n    },\n  },\n  created() {\n    // override default vuetify vertical overflow on non-mobile devices\n    // hide vertical scrollbars\n    if (!this.isMobile) {\n      document.documentElement.style.overflowY = 'hidden';\n    }\n\n    this.initConfig()\n      .then(() => Promise.all([\n        this.$store.dispatch(\n          'initCredentials',\n          this.$lexWebUi.awsConfig.credentials,\n        ),\n        this.$store.dispatch('initRecorder'),\n        this.$store.dispatch(\n          'initBotAudio',\n          (window.Audio) ? new Audio() : null,\n        ),\n      ]))\n      .then(() => Promise.all([\n        this.$store.dispatch('initMessageList'),\n        this.$store.dispatch('initPollyClient', this.$lexWebUi.pollyClient),\n        this.$store.dispatch('initLexClient', this.$lexWebUi.lexRuntimeClient),\n      ]))\n      .then(() => (\n        (this.$store.state.isRunningEmbedded) ?\n          this.$store.dispatch(\n            'sendMessageToParentWindow',\n            { event: 'ready' },\n          ) :\n          Promise.resolve()\n      ))\n      .then(() => console.info(\n        'sucessfully initialized lex web ui version: ',\n        this.$store.state.version,\n      ))\n      .catch((error) => {\n        console.error('could not initialize application while mounting:', error);\n      });\n  },\n  methods: {\n    toggleMinimizeUi() {\n      return this.$store.dispatch('toggleIsUiMinimized');\n    },\n    // messages from parent\n    messageHandler(evt) {\n      // security check\n      if (evt.origin !== this.$store.state.config.ui.parentOrigin) {\n        console.warn('ignoring event - invalid origin:', evt.origin);\n        return;\n      }\n      if (!evt.ports || !Array.isArray(evt.ports) || !evt.ports.length) {\n        console.warn('postMessage not sent over MessageChannel', evt);\n        return;\n      }\n      switch (evt.data.event) {\n        case 'ping':\n          console.info('pong - ping received from parent');\n          evt.ports[0].postMessage({\n            event: 'resolve',\n            type: evt.data.event,\n          });\n          break;\n        // received when the parent page has loaded the iframe\n        case 'parentReady':\n          evt.ports[0].postMessage({ event: 'resolve', type: evt.data.event });\n          break;\n        case 'toggleMinimizeUi':\n          this.$store.dispatch('toggleIsUiMinimized')\n            .then(() => evt.ports[0].postMessage({\n              event: 'resolve', type: evt.data.event,\n            }));\n          break;\n        case 'postText':\n          if (!evt.data.message) {\n            evt.ports[0].postMessage({\n              event: 'reject',\n              type: evt.data.event,\n              error: 'missing message field',\n            });\n            return;\n          }\n\n          this.$store.dispatch(\n            'postTextMessage',\n            { type: 'human', text: evt.data.message },\n          )\n            .then(() => evt.ports[0].postMessage({\n              event: 'resolve', type: evt.data.event,\n            }));\n          break;\n        default:\n          console.warn('unknown message in messageHanlder', evt);\n          break;\n      }\n    },\n    logRunningMode() {\n      if (!this.$store.state.isRunningEmbedded) {\n        console.info('running in standalone mode');\n        return;\n      }\n\n      console.info(\n        'running in embedded mode from URL: ',\n        document.location.href,\n      );\n      console.info('referrer (possible parent) URL: ', document.referrer);\n      console.info(\n        'config parentOrigin:',\n        this.$store.state.config.ui.parentOrigin,\n      );\n      if (!document.referrer\n        .startsWith(this.$store.state.config.ui.parentOrigin)\n      ) {\n        console.warn(\n          'referrer origin: [%s] does not match configured parent origin: [%s]',\n          document.referrer, this.$store.state.config.ui.parentOrigin,\n        );\n      }\n    },\n    initConfig() {\n      if (this.$store.state.config.urlQueryParams.lexWebUiEmbed !== 'true') {\n        this.$store.commit('setIsRunningEmbedded', false);\n        this.$store.commit('setAwsCredsProvider', 'cognito');\n      } else {\n        window.addEventListener('message', this.messageHandler, false);\n        this.$store.commit('setIsRunningEmbedded', true);\n        this.$store.commit('setAwsCredsProvider', 'parentWindow');\n      }\n\n      // get config\n      return this.$store.dispatch('initConfig', this.$lexWebUi.config)\n        .then(() => this.$store.dispatch('getConfigFromParent'))\n        // avoid merging an empty config\n        .then(config => (\n          (Object.keys(config).length) ?\n            this.$store.dispatch('initConfig', config) : Promise.resolve()\n        ))\n        .then(() => this.logRunningMode());\n    },\n  },\n};\n</script>\n\n<style>\n.message-list-container {\n  /* vuetify toolbar and footer are 48px each when using 'dense' */\n  height: calc(100% - 96px);\n  position: fixed;\n  top: 48px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LexWeb.vue","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 63\n// module chunks = 0","<template>\n  <v-toolbar\n    v-bind:color=\"toolbarColor\"\n    app\n    dark\n    dense\n    fixed\n  >\n    <img v-if=\"toolbarLogo\" v-bind:src=\"toolbarLogo\">\n    <v-toolbar-title class=\"hidden-xs-and-down\">\n      {{ toolbarTitle }}\n    </v-toolbar-title>\n    <v-spacer />\n    <!-- tooltip should be before btn to avoid right margin issue in mobile -->\n    <v-tooltip\n      v-model=\"shouldShowTooltip\"\n      activator=\".min-max-toggle\"\n      left\n    >\n      <span id=\"min-max-tooltip\">{{toolTipMinimize}}</span>\n    </v-tooltip>\n    <v-btn\n      v-if=\"$store.state.isRunningEmbedded\"\n      v-on:click=\"toggleMinimize\"\n      v-on=\"tooltipEventHandlers\"\n      class=\"min-max-toggle\"\n      icon\n    >\n      <v-icon>\n        {{ isUiMinimized ?  'arrow_drop_up' : 'arrow_drop_down' }}\n      </v-icon>\n    </v-btn>\n  </v-toolbar>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nexport default {\n  name: 'toolbar-container',\n  data() {\n    return {\n      shouldShowTooltip: false,\n      tooltipEventHandlers: {\n        mouseenter: this.onInputButtonHoverEnter,\n        mouseleave: this.onInputButtonHoverLeave,\n        touchstart: this.onInputButtonHoverEnter,\n        touchend: this.onInputButtonHoverLeave,\n        touchcancel: this.onInputButtonHoverLeave,\n      },\n    };\n  },\n  props: ['toolbarTitle', 'toolbarColor', 'toolbarLogo', 'isUiMinimized'],\n  computed: {\n    toolTipMinimize() {\n      return (this.isUiMinimized) ? 'maximize' : 'minimize';\n    },\n  },\n  methods: {\n    onInputButtonHoverEnter() {\n      this.shouldShowTooltip = true;\n    },\n    onInputButtonHoverLeave() {\n      this.shouldShowTooltip = false;\n    },\n    toggleMinimize() {\n      this.onInputButtonHoverLeave();\n      this.$emit('toggleMinimizeUi');\n    },\n  },\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ToolbarContainer.vue","<template>\n  <v-layout\n    column\n    fill-height\n    class=\"message-list\"\n  >\n    <message\n      ref=\"messages\"\n      v-for=\"message in messages\"\n      v-bind:message=\"message\"\n      v-bind:key=\"message.id\"\n      v-bind:class=\"`message-${message.type}`\"\n      v-on:scrollDown=\"scrollDown\"\n    ></message>\n    <MessageLoading\n      v-if=\"loading\"\n    ></MessageLoading>\n  </v-layout>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nimport Message from './Message';\nimport MessageLoading from './MessageLoading';\n\nexport default {\n  name: 'message-list',\n  components: {\n    Message,\n    MessageLoading,\n  },\n  computed: {\n    messages() {\n      return this.$store.state.messages;\n    },\n    loading() {\n      return this.$store.state.lex.isProcessing;\n    },\n  },\n  watch: {\n    // autoscroll message list to the bottom when messages change\n    messages() {\n      this.scrollDown();\n    },\n  },\n  methods: {\n    scrollDown() {\n      return this.$nextTick(() => {\n        this.$el.scrollTop = this.$el.scrollHeight;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.message-list {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.message-bot {\n  align-self: flex-start;\n}\n\n.message-human {\n  align-self: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MessageList.vue","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nimport MessageText from './MessageText';\nimport ResponseCard from './ResponseCard';\n\nexport default {\n  name: 'message',\n  props: ['message'],\n  components: {\n    MessageText,\n    ResponseCard,\n  },\n  data() {\n    return {\n      isMessageFocused: false,\n      messageHumanDate: 'Now',\n    };\n  },\n  computed: {\n    botDialogState() {\n      if (!('dialogState' in this.message)) {\n        return null;\n      }\n      switch (this.message.dialogState) {\n        case 'Failed':\n          return { icon: 'error', color: 'red', state: 'fail' };\n        case 'Fulfilled':\n        case 'ReadyForFulfillment':\n          return { icon: 'done', color: 'green', state: 'ok' };\n        default:\n          return null;\n      }\n    },\n    botAvatarUrl() {\n      return this.$store.state.config.ui.avatarImageUrl;\n    },\n    shouldDisplayResponseCard() {\n      return (\n        this.message.responseCard &&\n        (this.message.responseCard.version === '1' ||\n         this.message.responseCard.version === 1) &&\n        this.message.responseCard.contentType === 'application/vnd.amazonaws.card.generic' &&\n        'genericAttachments' in this.message.responseCard &&\n        this.message.responseCard.genericAttachments instanceof Array\n      );\n    },\n    shouldShowAvatarImage() {\n      return (\n        this.message.type === 'bot' &&\n        this.botAvatarUrl\n      );\n    },\n    botAvatarBackground() {\n      return {\n        background: `url(${this.botAvatarUrl}) center center / contain no-repeat`,\n      };\n    },\n    shouldShowMessageDate() {\n      return this.$store.state.config.ui.showMessageDate;\n    },\n  },\n  methods: {\n    playAudio() {\n      // XXX doesn't play in Firefox or Edge\n      /* XXX also tried:\n      const audio = new Audio(this.message.audio);\n      audio.play();\n      */\n      const audioElem = this.$el.querySelector('audio');\n      if (audioElem) {\n        audioElem.play();\n      }\n    },\n    onMessageFocus() {\n      if (!this.shouldShowMessageDate) {\n        return;\n      }\n      this.messageHumanDate = this.getMessageHumanDate();\n      this.isMessageFocused = true;\n      if (this.message.id === this.$store.state.messages.length - 1) {\n        this.$emit('scrollDown');\n      }\n    },\n    onMessageBlur() {\n      if (!this.shouldShowMessageDate) {\n        return;\n      }\n      this.isMessageFocused = false;\n    },\n    getMessageHumanDate() {\n      const dateDiff = Math.round((new Date() - this.message.date) / 1000);\n      const secsInHr = 3600;\n      const secsInDay = secsInHr * 24;\n      if (dateDiff < 60) {\n        return 'Now';\n      } else if (dateDiff < secsInHr) {\n        return `${Math.floor(dateDiff / 60)} min`;\n      } else if (dateDiff < secsInDay) {\n        return this.message.date.toLocaleTimeString();\n      }\n      return this.message.date.toLocaleString();\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Message.vue","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nconst { markdown } = require('markdown');\n\nexport default {\n  name: 'message-text',\n  props: ['message'],\n  computed: {\n    shouldConvertUrlToLinks() {\n      return this.$store.state.config.ui.convertUrlToLinksInBotMessages;\n    },\n    shouldStripTags() {\n      return this.$store.state.config.ui.stripTagsFromBotMessages;\n    },\n    AllowSuperDangerousHTMLInMessage() {\n      return this.$store.state.config.ui.AllowSuperDangerousHTMLInMessage;\n    },\n    altHtmlMessage() {\n      const { appContext } = this.$store.state.lex.sessionAttributes;\n      let out = false;\n      if (appContext) {\n        const alts = JSON.parse(appContext).altMessages || {};\n        if (alts.html) {\n          out = alts.html;\n        } else if (alts.markdown) {\n          out = markdown.toHTML(alts.markdown);\n        }\n      }\n      return out;\n    },\n    shouldRenderAsHtml() {\n      return (this.message.type === 'bot' && this.shouldConvertUrlToLinks);\n    },\n    botMessageAsHtml() {\n      // Security Note: Make sure that the content is escaped according\n      // to context (e.g. URL, HTML). This is rendered as HTML\n      const messageText = this.stripTagsFromMessage(this.message.text);\n      const messageWithLinks = this.botMessageWithLinks(messageText);\n      return messageWithLinks;\n    },\n  },\n  methods: {\n    encodeAsHtml(value) {\n      return value\n        .replace(/&/g, '&amp;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;');\n    },\n    botMessageWithLinks(messageText) {\n      const linkReplacers = [\n        // The regex in the objects of linkReplacers should return a single\n        // reference (from parenthesis) with the whole address\n        // The replace function takes a matched url and returns the\n        // hyperlink that will be replaced in the message\n        {\n          type: 'web',\n          regex: new RegExp(\n            '\\\\b((?:https?://\\\\w{1}|www\\\\.)(?:[\\\\w-.]){2,256}' +\n            '(?:[\\\\w._~:/?#@!$&()*+,;=[\\'\\\\]-]){0,256})',\n            'im',\n          ),\n          replace: (item) => {\n            const url = (!/^https?:\\/\\//.test(item)) ? `http://${item}` : item;\n            return '<a target=\"_blank\" ' +\n              `href=\"${encodeURI(url)}\">${this.encodeAsHtml(item)}</a>`;\n          },\n        },\n      ];\n      // TODO avoid double HTML encoding when there's more than 1 linkReplacer\n      return linkReplacers\n        .reduce(\n          (message, replacer) =>\n            // splits the message into an array containing content chunks\n            // and links. Content chunks will be the even indexed items in the\n            // array (or empty string when applicable).\n            // Links (if any) will be the odd members of the array since the\n            // regex keeps references.\n            message.split(replacer.regex)\n              .reduce(\n                (messageAccum, item, index, array) => {\n                  let messageResult = '';\n                  if ((index % 2) === 0) {\n                    const urlItem = ((index + 1) === array.length) ?\n                      '' : replacer.replace(array[index + 1]);\n                    messageResult = `${this.encodeAsHtml(item)}${urlItem}`;\n                  }\n                  return messageAccum + messageResult;\n                },\n                '',\n              ),\n          messageText,\n        );\n    },\n    // used for stripping SSML (and other) tags from bot responses\n    stripTagsFromMessage(messageText) {\n      const doc = document.implementation.createHTMLDocument('').body;\n      doc.innerHTML = messageText;\n      return doc.textContent || doc.innerText || '';\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/MessageText.vue","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\nexport default {\n  name: 'response-card',\n  props: ['response-card'],\n  data() {\n    return {\n      hasButtonBeenClicked: false,\n    };\n  },\n  computed: {\n  },\n  methods: {\n    onButtonClick(value) {\n      this.hasButtonBeenClicked = true;\n      const message = {\n        type: 'human',\n        text: value,\n      };\n\n      this.$store.dispatch('postTextMessage', message);\n    },\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ResponseCard.vue","<template>\n  <v-flex d-flex class=\"message message-bot\">\n    <!-- contains message and response card -->\n    <v-layout column ma-2 class=\"message-layout\">\n\n      <!-- contains message bubble and date -->\n      <v-flex d-flex class=\"message-bubble-date-container\">\n        <v-layout column class=\"message-bubble-column\">\n\n          <!-- contains message bubble and avatar -->\n          <v-flex d-flex class=\"message-bubble-avatar-container\">\n            <v-layout row class=\"message-bubble-row\">\n              <div\n                class=\"message-bubble focusable\"\n              >\n                {{ progress }} \n              </div>\n            </v-layout>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n  </v-flex>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\nexport default {\n  name: 'messageLoading',\n  data() {\n    return {\n      progress: '.',\n    };\n  },\n  computed: {\n  },\n  methods: {\n  },\n  created() {\n    this.interval = setInterval(() => {\n      if (this.progress.length > 2) {\n        this.progress = '.';\n      } else {\n        this.progress += '.';\n      }\n    }, 500);\n  },\n  destroyed() {\n    clearInterval(this.interval);\n  },\n};\n</script>\n\n<style scoped>\n.message, .message-bubble-column {\n  flex: 0 0 auto;\n}\n\n.message, .message-bubble-row {\n  max-width: 80vw;\n}\n\n.message-bubble {\n  border-radius: 24px;\n  display: inline-flex;\n  font-size: calc(1em + 0.25vmin);\n  padding: 0 12px;\n  width: fit-content;\n  align-self: center;\n}\n\n\n.message-bot .message-bubble {\n  background-color: #FFEBEE; /* red-50 from material palette */\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MessageLoading.vue","<template>\n  <v-footer app fixed>\n    <v-layout\n      row\n      justify-space-between\n      ma-0\n      class=\"input-container\"\n    >\n      <v-toolbar color=\"white\" dense>\n        <!--\n          using v-show instead of v-if to make recorder-status transition work\n        -->\n        <v-text-field\n          v-bind:label=\"textInputPlaceholder\"\n          v-show=\"shouldShowTextInput\"\n          v-model=\"textInput\"\n          v-on:keyup.enter.stop=\"postTextMessage\"\n          v-on:focus=\"onTextFieldFocus\"\n          v-on:blur=\"onTextFieldBlur\"\n          id=\"text-input\"\n          name=\"text-input\"\n          single-line\n          hide-details\n        ></v-text-field>\n\n        <recorder-status\n          v-show=\"!shouldShowTextInput\"\n        ></recorder-status>\n\n        <!-- separate tooltip as a workaround to support mobile touch events -->\n        <!-- tooltip should be before btn to avoid right margin issue in mobile -->\n        <v-tooltip\n          activator=\".input-button\"\n          v-model=\"shouldShowTooltip\"\n          ref=\"tooltip\"\n          left\n        >\n          <span id=\"input-button-tooltip\">{{inputButtonTooltip}}</span>\n        </v-tooltip>\n        <v-btn\n          v-if=\"shouldShowSendButton\"\n          v-on:click=\"postTextMessage\"\n          v-on=\"tooltipEventHandlers\"\n          v-bind:disabled=\"isSendButtonDisabled\"\n          ref=\"send\"\n          class=\"black--text input-button\"\n          icon\n        >\n          <v-icon medium>send</v-icon>\n        </v-btn>\n        <v-btn\n          v-else\n          v-on:click=\"onMicClick\"\n          v-on=\"tooltipEventHandlers\"\n          v-bind:disabled=\"isMicButtonDisabled\"\n          ref=\"mic\"\n          class=\"black--text input-button\"\n          icon\n        >\n          <v-icon medium>{{micButtonIcon}}</v-icon>\n        </v-btn>\n      </v-toolbar>\n    </v-layout>\n  </v-footer>\n</template>\n\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nimport RecorderStatus from '@/components/RecorderStatus';\n\nexport default {\n  name: 'input-container',\n  data() {\n    return {\n      textInput: '',\n      isTextFieldFocused: false,\n      shouldShowTooltip: false,\n      // workaround: vuetify tooltips doesn't seem to support touch events\n      tooltipEventHandlers: {\n        mouseenter: this.onInputButtonHoverEnter,\n        mouseleave: this.onInputButtonHoverLeave,\n        touchstart: this.onInputButtonHoverEnter,\n        touchend: this.onInputButtonHoverLeave,\n        touchcancel: this.onInputButtonHoverLeave,\n      },\n    };\n  },\n  props: ['textInputPlaceholder', 'initialSpeechInstruction'],\n  components: {\n    RecorderStatus,\n  },\n  computed: {\n    isBotSpeaking() {\n      return this.$store.state.botAudio.isSpeaking;\n    },\n    isSpeechConversationGoing() {\n      return this.$store.state.recState.isConversationGoing;\n    },\n    isMicButtonDisabled() {\n      return this.isMicMuted;\n    },\n    isMicMuted() {\n      return this.$store.state.recState.isMicMuted;\n    },\n    isRecorderSupported() {\n      return this.$store.state.recState.isRecorderSupported;\n    },\n    isRecorderEnabled() {\n      return this.$store.state.recState.isRecorderEnabled;\n    },\n    isSendButtonDisabled() {\n      return this.textInput.length < 1;\n    },\n    micButtonIcon() {\n      if (this.isMicMuted) {\n        return 'mic_off';\n      }\n      if (this.isBotSpeaking || this.isSpeechConversationGoing) {\n        return 'stop';\n      }\n      return 'mic';\n    },\n    inputButtonTooltip() {\n      if (this.shouldShowSendButton) {\n        return 'send';\n      }\n      if (this.isMicMuted) {\n        return 'mic seems to be muted';\n      }\n      if (this.isBotSpeaking || this.isSpeechConversationGoing) {\n        return 'interrupt';\n      }\n      return 'click to use voice';\n    },\n    shouldShowSendButton() {\n      return (\n        (this.textInput.length && this.isTextFieldFocused) ||\n        (!this.isRecorderSupported || !this.isRecorderEnabled)\n      );\n    },\n    shouldShowTextInput() {\n      return !(this.isBotSpeaking || this.isSpeechConversationGoing);\n    },\n  },\n  methods: {\n    onInputButtonHoverEnter() {\n      this.shouldShowTooltip = true;\n    },\n    onInputButtonHoverLeave() {\n      this.shouldShowTooltip = false;\n    },\n    onMicClick() {\n      this.onInputButtonHoverLeave();\n      if (this.isBotSpeaking || this.isSpeechConversationGoing) {\n        return this.$store.dispatch('interruptSpeechConversation');\n      }\n      if (!this.isSpeechConversationGoing) {\n        return this.startSpeechConversation();\n      }\n\n      return Promise.resolve();\n    },\n    onTextFieldFocus() {\n      this.isTextFieldFocused = true;\n    },\n    onTextFieldBlur() {\n      if (!this.textInput.length && this.isTextFieldFocused) {\n        this.isTextFieldFocused = false;\n      }\n    },\n    playInitialInstruction() {\n      const isInitialState = ['', 'Fulfilled', 'Failed']\n        .some(initialState => (\n          this.$store.state.lex.dialogState === initialState\n        ));\n\n      return (isInitialState) ?\n        this.$store.dispatch(\n          'pollySynthesizeSpeech',\n          this.initialSpeechInstruction,\n        ) :\n        Promise.resolve();\n    },\n    postTextMessage() {\n      this.onInputButtonHoverLeave();\n      this.textInput = this.textInput.trim();\n      // empty string\n      if (!this.textInput.length) {\n        return Promise.resolve();\n      }\n\n      const message = {\n        type: 'human',\n        text: this.textInput,\n      };\n\n      return this.$store.dispatch('postTextMessage', message)\n        .then(() => {\n          this.textInput = '';\n        });\n    },\n    startSpeechConversation() {\n      if (this.isMicMuted) {\n        return Promise.resolve();\n      }\n      return this.setAutoPlay()\n        .then(() => this.playInitialInstruction())\n        .then(() => this.$store.dispatch('startConversation'))\n        .catch((error) => {\n          console.error('error in startSpeechConversation', error);\n          const errorMessage = (this.$store.state.config.ui.showErrorDetails) ?\n            ` ${error}` : '';\n\n          this.$store.dispatch(\n            'pushErrorMessage',\n            \"Sorry, I couldn't start the conversation. Please try again.\" +\n            `${errorMessage}`,\n          );\n        });\n    },\n    /**\n     * Set auto-play attribute on audio element\n     * On mobile, Audio nodes do not autoplay without user interaction.\n     * To workaround that requirement, this plays a short silent audio mp3/ogg\n     * as a reponse to a click. This silent audio is initialized as the src\n     * of the audio node. Subsequent play on the same audio now\n     * don't require interaction so this is only done once.\n     */\n    setAutoPlay() {\n      if (this.$store.state.botAudio.autoPlay) {\n        return Promise.resolve();\n      }\n      return this.$store.dispatch('setAudioAutoPlay');\n    },\n  },\n};\n</script>\n<style>\n.footer {\n  /* make footer same height as dense toolbar */\n  min-height: 48px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/InputContainer.vue","<template>\n  <v-flex class=\"recorder-status white\">\n    <div class=\"status-text\">\n      <span>{{statusText}}</span>\n    </div>\n\n    <div\n      class=\"voice-controls ml-2\"\n    >\n      <transition\n        v-on:enter=\"enterMeter\"\n        v-on:leave=\"leaveMeter\"\n        v-bind:css=\"false\"\n      >\n        <div v-if=\"isRecording\" class=\"volume-meter\">\n          <meter\n            v-bind:value=\"volume\"\n            min=\"0.0001\"\n            low=\"0.005\"\n            optimum=\"0.04\"\n            high=\"0.07\"\n            max=\"0.09\"\n          ></meter>\n        </div>\n      </transition>\n\n      <v-progress-linear\n        v-bind:indeterminate=\"true\"\n        v-if=\"isProcessing\"\n        class=\"processing-bar ma-0\"\n      ></v-progress-linear>\n\n      <transition\n        v-on:enter=\"enterAudioPlay\"\n        v-on:leave=\"leaveAudioPlay\"\n        v-bind:css=\"false\"\n      >\n        <v-progress-linear\n          v-if=\"isBotSpeaking\"\n          v-model=\"audioPlayPercent\"\n          class=\"audio-progress-bar ma-0\"\n        ></v-progress-linear>\n      </transition>\n    </div>\n  </v-flex>\n</template>\n<script>\n/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nexport default {\n  name: 'recorder-status',\n  data() {\n    return ({\n      volume: 0,\n      volumeIntervalId: null,\n      audioPlayPercent: 0,\n      audioIntervalId: null,\n    });\n  },\n  computed: {\n    isSpeechConversationGoing() {\n      return this.isConversationGoing;\n    },\n    isProcessing() {\n      return (\n        this.isSpeechConversationGoing &&\n        !this.isRecording &&\n        !this.isBotSpeaking\n      );\n    },\n    statusText() {\n      if (this.isInterrupting) {\n        return 'Interrupting...';\n      }\n      if (this.canInterruptBotPlayback) {\n        return 'Say \"skip\" and I\\'ll listen for your answer...';\n      }\n      if (this.isMicMuted) {\n        return 'Microphone seems to be muted...';\n      }\n      if (this.isRecording) {\n        return 'Listening...';\n      }\n      if (this.isBotSpeaking) {\n        return 'Playing audio...';\n      }\n      if (this.isSpeechConversationGoing) {\n        return 'Processing...';\n      }\n      if (this.isRecorderSupported) {\n        return 'Click on the mic';\n      }\n      return '';\n    },\n    canInterruptBotPlayback() {\n      return this.$store.state.botAudio.canInterrupt;\n    },\n    isBotSpeaking() {\n      return this.$store.state.botAudio.isSpeaking;\n    },\n    isConversationGoing() {\n      return this.$store.state.recState.isConversationGoing;\n    },\n    isInterrupting() {\n      return (\n        this.$store.state.recState.isInterrupting ||\n        this.$store.state.botAudio.isInterrupting\n      );\n    },\n    isMicMuted() {\n      return this.$store.state.recState.isMicMuted;\n    },\n    isRecorderSupported() {\n      return this.$store.state.recState.isRecorderSupported;\n    },\n    isRecording() {\n      return this.$store.state.recState.isRecording;\n    },\n  },\n  methods: {\n    enterMeter() {\n      const intervalTimeInMs = 50;\n      this.volumeIntervalId = setInterval(() => {\n        this.$store.dispatch('getRecorderVolume')\n          .then((volume) => {\n            this.volume = volume.instant.toFixed(4);\n          });\n      }, intervalTimeInMs);\n    },\n    leaveMeter() {\n      if (this.volumeIntervalId) {\n        clearInterval(this.volumeIntervalId);\n      }\n    },\n    enterAudioPlay() {\n      const intervalTimeInMs = 20;\n      this.audioIntervalId = setInterval(() => {\n        this.$store.dispatch('getAudioProperties')\n          .then(({ end = 0, duration = 0 }) => {\n            const percent = (duration <= 0) ? 0 : (end / duration) * 100;\n            this.audioPlayPercent = (Math.ceil(percent / 10) * 10) + 5;\n          });\n      }, intervalTimeInMs);\n    },\n    leaveAudioPlay() {\n      if (this.audioIntervalId) {\n        this.audioPlayPercent = 0;\n        clearInterval(this.audioIntervalId);\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.recorder-status {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.status-text {\n  align-self: center;\n  display: flex;\n  text-align: center;\n}\n\n.volume-meter {\n  display: flex;\n}\n\n.volume-meter meter {\n  display: flex;\n  flex: 1;\n  height: 0.75rem;\n}\n\n.processing-bar {\n  height: 0.75rem;\n}\n\n.audio-progress-bar {\n  height: 0.75rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/RecorderStatus.vue","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 72\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 73\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = 74\n// module chunks = 0","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n/**\n * Entry point to the lex-web-ui Vue plugin\n * Exports Loader as the plugin constructor\n * and Store as store that can be used with Vuex.Store()\n */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { Config as AWSConfig, CognitoIdentityCredentials }\n  from 'aws-sdk/global';\nimport LexRuntime from 'aws-sdk/clients/lexruntime';\nimport Polly from 'aws-sdk/clients/polly';\n\nimport LexWeb from '@/components/LexWeb';\nimport VuexStore from '@/store';\n\nimport { config as defaultConfig, mergeConfig } from '@/config';\n\n/**\n * Vue Component\n */\nconst Component = {\n  name: 'lex-web-ui',\n  template: '<lex-web v-on=\"$listeners\"></lex-web>',\n  components: { LexWeb },\n};\n\nconst loadingComponent = {\n  template: '<p>Loading. Please wait...</p>',\n};\nconst errorComponent = {\n  template: '<p>An error ocurred...</p>',\n};\n\n/**\n * Vue Asynchonous Component\n */\nconst AsyncComponent = ({\n  component = Promise.resolve(Component),\n  loading = loadingComponent,\n  error = errorComponent,\n  delay = 200,\n  timeout = 10000,\n}) => ({\n  // must be a promise\n  component,\n  // A component to use while the async component is loading\n  loading,\n  // A component to use if the load fails\n  error,\n  // Delay before showing the loading component. Default: 200ms.\n  delay,\n  // The error component will be displayed if a timeout is\n  // provided and exceeded. Default: 10000ms.\n  timeout,\n});\n\n/**\n * Vue Plugin\n */\nexport const Plugin = {\n  install(VueConstructor, {\n    name = '$lexWebUi',\n    componentName = 'lex-web-ui',\n    awsConfig,\n    lexRuntimeClient,\n    pollyClient,\n    component = AsyncComponent,\n    config = defaultConfig,\n  }) {\n    if (name in VueConstructor) {\n      console.warn('plugin should only be used once');\n    }\n    // values to be added to custom vue property\n    const value = {\n      config,\n      awsConfig,\n      lexRuntimeClient,\n      pollyClient,\n    };\n    // add custom property to Vue\n    // for example, access this in a component via this.$lexWebUi\n    Object.defineProperty(VueConstructor.prototype, name, { value });\n    // register as a global component\n    VueConstructor.component(componentName, component);\n  },\n};\n\nexport const Store = VuexStore;\n\n/**\n * Main Class\n */\nexport class Loader {\n  constructor(config = {}) {\n    const mergedConfig = mergeConfig(defaultConfig, config);\n\n    const VueConstructor = (window.Vue) ? window.Vue : Vue;\n    if (!VueConstructor) {\n      throw new Error('unable to find Vue');\n    }\n\n    const VuexConstructor = (window.Vuex) ? window.Vuex : Vuex;\n    if (!VuexConstructor) {\n      throw new Error('unable to find Vuex');\n    }\n\n    const AWSConfigConstructor = (window.AWS && window.AWS.Config) ?\n      window.AWS.Config :\n      AWSConfig;\n\n    const CognitoConstructor =\n      (window.AWS && window.AWS.CognitoIdentityCredentials) ?\n        window.AWS.CognitoIdentityCredentials :\n        CognitoIdentityCredentials;\n\n    const PollyConstructor = (window.AWS && window.AWS.Polly) ?\n      window.AWS.Polly :\n      Polly;\n\n    const LexRuntimeConstructor = (window.AWS && window.AWS.LexRuntime) ?\n      window.AWS.LexRuntime :\n      LexRuntime;\n\n    if (!AWSConfigConstructor || !CognitoConstructor || !PollyConstructor\n        || !LexRuntimeConstructor) {\n      throw new Error('unable to find AWS SDK');\n    }\n\n    const credentials = new CognitoConstructor(\n      { IdentityPoolId: mergedConfig.cognito.poolId },\n      { region: mergedConfig.region || 'us-east-1' },\n    );\n\n    const awsConfig = new AWSConfigConstructor({\n      region: mergedConfig.region || 'us-east-1',\n      credentials,\n    });\n\n    const lexRuntimeClient = new LexRuntimeConstructor(awsConfig);\n    const pollyClient = (\n      typeof mergedConfig.recorder === 'undefined' ||\n      (mergedConfig.recorder && mergedConfig.recorder.enable !== false)\n    ) ? new PollyConstructor(awsConfig) : null;\n\n    // TODO name space store\n    this.store = new VuexConstructor.Store({ ...VuexStore });\n\n    VueConstructor.use(Plugin, {\n      config: mergedConfig,\n      awsConfig,\n      lexRuntimeClient,\n      pollyClient,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lex-web-ui.js","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/assign.js\n// module id = 76\n// module chunks = 0","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.assign.js\n// module id = 77\n// module chunks = 0","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = 78\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 79\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 80\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 81\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 82\n// module chunks = 0","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 83\n// module chunks = 0","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 84\n// module chunks = 0","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 85\n// module chunks = 0","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 86\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 87\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 88\n// module chunks = 0","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 89\n// module chunks = 0","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 90\n// module chunks = 0","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 91\n// module chunks = 0","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 92\n// module chunks = 0","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 93\n// module chunks = 0","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 94\n// module chunks = 0","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 95\n// module chunks = 0","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 96\n// module chunks = 0","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 97\n// module chunks = 0","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 98\n// module chunks = 0","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 99\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_100__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 100\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_101__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vuex\"\n// module id = 101\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_102__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/global\"\n// module id = 102\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_103__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/clients/lexruntime\"\n// module id = 103\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_104__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk/clients/polly\"\n// module id = 104\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fdf03b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LexWeb.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LexWeb.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LexWeb.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fdf03b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LexWeb.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LexWeb.vue\n// module id = 105\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-7fdf03b2\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/LexWeb.vue\n// module id = 106\n// module chunks = 0","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 107\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 108\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 109\n// module chunks = 0","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ToolbarContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ToolbarContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-325dde92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ToolbarContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ToolbarContainer.vue\n// module id = 110\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-toolbar',{attrs:{\"color\":_vm.toolbarColor,\"app\":\"\",\"dark\":\"\",\"dense\":\"\",\"fixed\":\"\"}},[(_vm.toolbarLogo)?_c('img',{attrs:{\"src\":_vm.toolbarLogo}}):_vm._e(),_vm._v(\" \"),_c('v-toolbar-title',{staticClass:\"hidden-xs-and-down\"},[_vm._v(\"\\n    \"+_vm._s(_vm.toolbarTitle)+\"\\n  \")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-tooltip',{attrs:{\"activator\":\".min-max-toggle\",\"left\":\"\"},model:{value:(_vm.shouldShowTooltip),callback:function ($$v) {_vm.shouldShowTooltip=$$v},expression:\"shouldShowTooltip\"}},[_c('span',{attrs:{\"id\":\"min-max-tooltip\"}},[_vm._v(_vm._s(_vm.toolTipMinimize))])]),_vm._v(\" \"),(_vm.$store.state.isRunningEmbedded)?_c('v-btn',_vm._g({staticClass:\"min-max-toggle\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.toggleMinimize}},_vm.tooltipEventHandlers),[_c('v-icon',[_vm._v(\"\\n      \"+_vm._s(_vm.isUiMinimized ?  'arrow_drop_up' : 'arrow_drop_down')+\"\\n    \")])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-325dde92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ToolbarContainer.vue\n// module id = 111\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f155304\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f155304\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f155304\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MessageList.vue\n// module id = 112\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6f155304\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/MessageList.vue\n// module id = 113\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f26fa868\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Message.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Message.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Message.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f26fa868\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Message.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f26fa868\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Message.vue\n// module id = 114\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-f26fa868\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Message.vue\n// module id = 115\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d292598c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageText.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageText.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageText.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d292598c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageText.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d292598c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MessageText.vue\n// module id = 116\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-d292598c\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/MessageText.vue\n// module id = 117\n// module chunks = 0","// super simple module for the most common nodejs use case.\nexports.markdown = require(\"./markdown\");\nexports.parse = exports.markdown.toHTML;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/markdown/lib/index.js\n// module id = 118\n// module chunks = 0","// Released under MIT license\n// Copyright (c) 2009-2010 Dominic Baggott\n// Copyright (c) 2009-2010 Ash Berlin\n// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)\n\n/*jshint browser:true, devel:true */\n\n(function( expose ) {\n\n/**\n *  class Markdown\n *\n *  Markdown processing in Javascript done right. We have very particular views\n *  on what constitutes 'right' which include:\n *\n *  - produces well-formed HTML (this means that em and strong nesting is\n *    important)\n *\n *  - has an intermediate representation to allow processing of parsed data (We\n *    in fact have two, both as [JsonML]: a markdown tree and an HTML tree).\n *\n *  - is easily extensible to add new dialects without having to rewrite the\n *    entire parsing mechanics\n *\n *  - has a good test suite\n *\n *  This implementation fulfills all of these (except that the test suite could\n *  do with expanding to automatically run all the fixtures from other Markdown\n *  implementations.)\n *\n *  ##### Intermediate Representation\n *\n *  *TODO* Talk about this :) Its JsonML, but document the node names we use.\n *\n *  [JsonML]: http://jsonml.org/ \"JSON Markup Language\"\n **/\nvar Markdown = expose.Markdown = function(dialect) {\n  switch (typeof dialect) {\n    case \"undefined\":\n      this.dialect = Markdown.dialects.Gruber;\n      break;\n    case \"object\":\n      this.dialect = dialect;\n      break;\n    default:\n      if ( dialect in Markdown.dialects ) {\n        this.dialect = Markdown.dialects[dialect];\n      }\n      else {\n        throw new Error(\"Unknown Markdown dialect '\" + String(dialect) + \"'\");\n      }\n      break;\n  }\n  this.em_state = [];\n  this.strong_state = [];\n  this.debug_indent = \"\";\n};\n\n/**\n *  parse( markdown, [dialect] ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *\n *  Parse `markdown` and return a markdown document as a Markdown.JsonML tree.\n **/\nexpose.parse = function( source, dialect ) {\n  // dialect will default if undefined\n  var md = new Markdown( dialect );\n  return md.toTree( source );\n};\n\n/**\n *  toHTML( markdown, [dialect]  ) -> String\n *  toHTML( md_tree ) -> String\n *  - markdown (String): markdown string to parse\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Take markdown (either as a string or as a JsonML tree) and run it through\n *  [[toHTMLTree]] then turn it into a well-formated HTML fragment.\n **/\nexpose.toHTML = function toHTML( source , dialect , options ) {\n  var input = expose.toHTMLTree( source , dialect , options );\n\n  return expose.renderJsonML( input );\n};\n\n/**\n *  toHTMLTree( markdown, [dialect] ) -> JsonML\n *  toHTMLTree( md_tree ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Turn markdown into HTML, represented as a JsonML tree. If a string is given\n *  to this function, it is first parsed into a markdown tree by calling\n *  [[parse]].\n **/\nexpose.toHTMLTree = function toHTMLTree( input, dialect , options ) {\n  // convert string input to an MD tree\n  if ( typeof input ===\"string\" ) input = this.parse( input, dialect );\n\n  // Now convert the MD tree to an HTML tree\n\n  // remove references from the tree\n  var attrs = extract_attr( input ),\n      refs = {};\n\n  if ( attrs && attrs.references ) {\n    refs = attrs.references;\n  }\n\n  var html = convert_tree_to_html( input, refs , options );\n  merge_text_nodes( html );\n  return html;\n};\n\n// For Spidermonkey based engines\nfunction mk_block_toSource() {\n  return \"Markdown.mk_block( \" +\n          uneval(this.toString()) +\n          \", \" +\n          uneval(this.trailing) +\n          \", \" +\n          uneval(this.lineNumber) +\n          \" )\";\n}\n\n// node\nfunction mk_block_inspect() {\n  var util = require(\"util\");\n  return \"Markdown.mk_block( \" +\n          util.inspect(this.toString()) +\n          \", \" +\n          util.inspect(this.trailing) +\n          \", \" +\n          util.inspect(this.lineNumber) +\n          \" )\";\n\n}\n\nvar mk_block = Markdown.mk_block = function(block, trail, line) {\n  // Be helpful for default case in tests.\n  if ( arguments.length == 1 ) trail = \"\\n\\n\";\n\n  var s = new String(block);\n  s.trailing = trail;\n  // To make it clear its not just a string\n  s.inspect = mk_block_inspect;\n  s.toSource = mk_block_toSource;\n\n  if ( line != undefined )\n    s.lineNumber = line;\n\n  return s;\n};\n\nfunction count_lines( str ) {\n  var n = 0, i = -1;\n  while ( ( i = str.indexOf(\"\\n\", i + 1) ) !== -1 ) n++;\n  return n;\n}\n\n// Internal - split source into rough blocks\nMarkdown.prototype.split_blocks = function splitBlocks( input, startLine ) {\n  input = input.replace(/(\\r\\n|\\n|\\r)/g, \"\\n\");\n  // [\\s\\S] matches _anything_ (newline or space)\n  // [^] is equivalent but doesn't work in IEs.\n  var re = /([\\s\\S]+?)($|\\n#|\\n(?:\\s*\\n|$)+)/g,\n      blocks = [],\n      m;\n\n  var line_no = 1;\n\n  if ( ( m = /^(\\s*\\n)/.exec(input) ) != null ) {\n    // skip (but count) leading blank lines\n    line_no += count_lines( m[0] );\n    re.lastIndex = m[0].length;\n  }\n\n  while ( ( m = re.exec(input) ) !== null ) {\n    if (m[2] == \"\\n#\") {\n      m[2] = \"\\n\";\n      re.lastIndex--;\n    }\n    blocks.push( mk_block( m[1], m[2], line_no ) );\n    line_no += count_lines( m[0] );\n  }\n\n  return blocks;\n};\n\n/**\n *  Markdown#processBlock( block, next ) -> undefined | [ JsonML, ... ]\n *  - block (String): the block to process\n *  - next (Array): the following blocks\n *\n * Process `block` and return an array of JsonML nodes representing `block`.\n *\n * It does this by asking each block level function in the dialect to process\n * the block until one can. Succesful handling is indicated by returning an\n * array (with zero or more JsonML nodes), failure by a false value.\n *\n * Blocks handlers are responsible for calling [[Markdown#processInline]]\n * themselves as appropriate.\n *\n * If the blocks were split incorrectly or adjacent blocks need collapsing you\n * can adjust `next` in place using shift/splice etc.\n *\n * If any of this default behaviour is not right for the dialect, you can\n * define a `__call__` method on the dialect that will get invoked to handle\n * the block processing.\n */\nMarkdown.prototype.processBlock = function processBlock( block, next ) {\n  var cbs = this.dialect.block,\n      ord = cbs.__order__;\n\n  if ( \"__call__\" in cbs ) {\n    return cbs.__call__.call(this, block, next);\n  }\n\n  for ( var i = 0; i < ord.length; i++ ) {\n    //D:this.debug( \"Testing\", ord[i] );\n    var res = cbs[ ord[i] ].call( this, block, next );\n    if ( res ) {\n      //D:this.debug(\"  matched\");\n      if ( !isArray(res) || ( res.length > 0 && !( isArray(res[0]) ) ) )\n        this.debug(ord[i], \"didn't return a proper array\");\n      //D:this.debug( \"\" );\n      return res;\n    }\n  }\n\n  // Uhoh! no match! Should we throw an error?\n  return [];\n};\n\nMarkdown.prototype.processInline = function processInline( block ) {\n  return this.dialect.inline.__call__.call( this, String( block ) );\n};\n\n/**\n *  Markdown#toTree( source ) -> JsonML\n *  - source (String): markdown source to parse\n *\n *  Parse `source` into a JsonML tree representing the markdown document.\n **/\n// custom_tree means set this.tree to `custom_tree` and restore old value on return\nMarkdown.prototype.toTree = function toTree( source, custom_root ) {\n  var blocks = source instanceof Array ? source : this.split_blocks( source );\n\n  // Make tree a member variable so its easier to mess with in extensions\n  var old_tree = this.tree;\n  try {\n    this.tree = custom_root || this.tree || [ \"markdown\" ];\n\n    blocks:\n    while ( blocks.length ) {\n      var b = this.processBlock( blocks.shift(), blocks );\n\n      // Reference blocks and the like won't return any content\n      if ( !b.length ) continue blocks;\n\n      this.tree.push.apply( this.tree, b );\n    }\n    return this.tree;\n  }\n  finally {\n    if ( custom_root ) {\n      this.tree = old_tree;\n    }\n  }\n};\n\n// Noop by default\nMarkdown.prototype.debug = function () {\n  var args = Array.prototype.slice.call( arguments);\n  args.unshift(this.debug_indent);\n  if ( typeof print !== \"undefined\" )\n      print.apply( print, args );\n  if ( typeof console !== \"undefined\" && typeof console.log !== \"undefined\" )\n      console.log.apply( null, args );\n}\n\nMarkdown.prototype.loop_re_over_block = function( re, block, cb ) {\n  // Dont use /g regexps with this\n  var m,\n      b = block.valueOf();\n\n  while ( b.length && (m = re.exec(b) ) != null ) {\n    b = b.substr( m[0].length );\n    cb.call(this, m);\n  }\n  return b;\n};\n\n/**\n * Markdown.dialects\n *\n * Namespace of built-in dialects.\n **/\nMarkdown.dialects = {};\n\n/**\n * Markdown.dialects.Gruber\n *\n * The default dialect that follows the rules set out by John Gruber's\n * markdown.pl as closely as possible. Well actually we follow the behaviour of\n * that script which in some places is not exactly what the syntax web page\n * says.\n **/\nMarkdown.dialects.Gruber = {\n  block: {\n    atxHeader: function atxHeader( block, next ) {\n      var m = block.match( /^(#{1,6})\\s*(.*?)\\s*#*\\s*(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var header = [ \"header\", { level: m[ 1 ].length } ];\n      Array.prototype.push.apply(header, this.processInline(m[ 2 ]));\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    setextHeader: function setextHeader( block, next ) {\n      var m = block.match( /^(.*)\\n([-=])\\2\\2+(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var level = ( m[ 2 ] === \"=\" ) ? 1 : 2;\n      var header = [ \"header\", { level : level }, m[ 1 ] ];\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    code: function code( block, next ) {\n      // |    Foo\n      // |bar\n      // should be a code block followed by a paragraph. Fun\n      //\n      // There might also be adjacent code block to merge.\n\n      var ret = [],\n          re = /^(?: {0,3}\\t| {4})(.*)\\n?/,\n          lines;\n\n      // 4 spaces + content\n      if ( !block.match( re ) ) return undefined;\n\n      block_search:\n      do {\n        // Now pull out the rest of the lines\n        var b = this.loop_re_over_block(\n                  re, block.valueOf(), function( m ) { ret.push( m[1] ); } );\n\n        if ( b.length ) {\n          // Case alluded to in first comment. push it back on as a new block\n          next.unshift( mk_block(b, block.trailing) );\n          break block_search;\n        }\n        else if ( next.length ) {\n          // Check the next block - it might be code too\n          if ( !next[0].match( re ) ) break block_search;\n\n          // Pull how how many blanks lines follow - minus two to account for .join\n          ret.push ( block.trailing.replace(/[^\\n]/g, \"\").substring(2) );\n\n          block = next.shift();\n        }\n        else {\n          break block_search;\n        }\n      } while ( true );\n\n      return [ [ \"code_block\", ret.join(\"\\n\") ] ];\n    },\n\n    horizRule: function horizRule( block, next ) {\n      // this needs to find any hr in the block to handle abutting blocks\n      var m = block.match( /^(?:([\\s\\S]*?)\\n)?[ \\t]*([-_*])(?:[ \\t]*\\2){2,}[ \\t]*(?:\\n([\\s\\S]*))?$/ );\n\n      if ( !m ) {\n        return undefined;\n      }\n\n      var jsonml = [ [ \"hr\" ] ];\n\n      // if there's a leading abutting block, process it\n      if ( m[ 1 ] ) {\n        jsonml.unshift.apply( jsonml, this.processBlock( m[ 1 ], [] ) );\n      }\n\n      // if there's a trailing abutting block, stick it into next\n      if ( m[ 3 ] ) {\n        next.unshift( mk_block( m[ 3 ] ) );\n      }\n\n      return jsonml;\n    },\n\n    // There are two types of lists. Tight and loose. Tight lists have no whitespace\n    // between the items (and result in text just in the <li>) and loose lists,\n    // which have an empty line between list items, resulting in (one or more)\n    // paragraphs inside the <li>.\n    //\n    // There are all sorts weird edge cases about the original markdown.pl's\n    // handling of lists:\n    //\n    // * Nested lists are supposed to be indented by four chars per level. But\n    //   if they aren't, you can get a nested list by indenting by less than\n    //   four so long as the indent doesn't match an indent of an existing list\n    //   item in the 'nest stack'.\n    //\n    // * The type of the list (bullet or number) is controlled just by the\n    //    first item at the indent. Subsequent changes are ignored unless they\n    //    are for nested lists\n    //\n    lists: (function( ) {\n      // Use a closure to hide a few variables.\n      var any_list = \"[*+-]|\\\\d+\\\\.\",\n          bullet_list = /[*+-]/,\n          number_list = /\\d+\\./,\n          // Capture leading indent as it matters for determining nested lists.\n          is_list_re = new RegExp( \"^( {0,3})(\" + any_list + \")[ \\t]+\" ),\n          indent_re = \"(?: {0,3}\\\\t| {4})\";\n\n      // TODO: Cache this regexp for certain depths.\n      // Create a regexp suitable for matching an li for a given stack depth\n      function regex_for_depth( depth ) {\n\n        return new RegExp(\n          // m[1] = indent, m[2] = list_type\n          \"(?:^(\" + indent_re + \"{0,\" + depth + \"} {0,3})(\" + any_list + \")\\\\s+)|\" +\n          // m[3] = cont\n          \"(^\" + indent_re + \"{0,\" + (depth-1) + \"}[ ]{0,4})\"\n        );\n      }\n      function expand_tab( input ) {\n        return input.replace( / {0,3}\\t/g, \"    \" );\n      }\n\n      // Add inline content `inline` to `li`. inline comes from processInline\n      // so is an array of content\n      function add(li, loose, inline, nl) {\n        if ( loose ) {\n          li.push( [ \"para\" ].concat(inline) );\n          return;\n        }\n        // Hmmm, should this be any block level element or just paras?\n        var add_to = li[li.length -1] instanceof Array && li[li.length - 1][0] == \"para\"\n                   ? li[li.length -1]\n                   : li;\n\n        // If there is already some content in this list, add the new line in\n        if ( nl && li.length > 1 ) inline.unshift(nl);\n\n        for ( var i = 0; i < inline.length; i++ ) {\n          var what = inline[i],\n              is_str = typeof what == \"string\";\n          if ( is_str && add_to.length > 1 && typeof add_to[add_to.length-1] == \"string\" ) {\n            add_to[ add_to.length-1 ] += what;\n          }\n          else {\n            add_to.push( what );\n          }\n        }\n      }\n\n      // contained means have an indent greater than the current one. On\n      // *every* line in the block\n      function get_contained_blocks( depth, blocks ) {\n\n        var re = new RegExp( \"^(\" + indent_re + \"{\" + depth + \"}.*?\\\\n?)*$\" ),\n            replace = new RegExp(\"^\" + indent_re + \"{\" + depth + \"}\", \"gm\"),\n            ret = [];\n\n        while ( blocks.length > 0 ) {\n          if ( re.exec( blocks[0] ) ) {\n            var b = blocks.shift(),\n                // Now remove that indent\n                x = b.replace( replace, \"\");\n\n            ret.push( mk_block( x, b.trailing, b.lineNumber ) );\n          }\n          else {\n            break;\n          }\n        }\n        return ret;\n      }\n\n      // passed to stack.forEach to turn list items up the stack into paras\n      function paragraphify(s, i, stack) {\n        var list = s.list;\n        var last_li = list[list.length-1];\n\n        if ( last_li[1] instanceof Array && last_li[1][0] == \"para\" ) {\n          return;\n        }\n        if ( i + 1 == stack.length ) {\n          // Last stack frame\n          // Keep the same array, but replace the contents\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ) );\n        }\n        else {\n          var sublist = last_li.pop();\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ), sublist );\n        }\n      }\n\n      // The matcher function\n      return function( block, next ) {\n        var m = block.match( is_list_re );\n        if ( !m ) return undefined;\n\n        function make_list( m ) {\n          var list = bullet_list.exec( m[2] )\n                   ? [\"bulletlist\"]\n                   : [\"numberlist\"];\n\n          stack.push( { list: list, indent: m[1] } );\n          return list;\n        }\n\n\n        var stack = [], // Stack of lists for nesting.\n            list = make_list( m ),\n            last_li,\n            loose = false,\n            ret = [ stack[0].list ],\n            i;\n\n        // Loop to search over block looking for inner block elements and loose lists\n        loose_search:\n        while ( true ) {\n          // Split into lines preserving new lines at end of line\n          var lines = block.split( /(?=\\n)/ );\n\n          // We have to grab all lines for a li and call processInline on them\n          // once as there are some inline things that can span lines.\n          var li_accumulate = \"\";\n\n          // Loop over the lines in this block looking for tight lists.\n          tight_search:\n          for ( var line_no = 0; line_no < lines.length; line_no++ ) {\n            var nl = \"\",\n                l = lines[line_no].replace(/^\\n/, function(n) { nl = n; return \"\"; });\n\n            // TODO: really should cache this\n            var line_re = regex_for_depth( stack.length );\n\n            m = l.match( line_re );\n            //print( \"line:\", uneval(l), \"\\nline match:\", uneval(m) );\n\n            // We have a list item\n            if ( m[1] !== undefined ) {\n              // Process the previous list item, if any\n              if ( li_accumulate.length ) {\n                add( last_li, loose, this.processInline( li_accumulate ), nl );\n                // Loose mode will have been dealt with. Reset it\n                loose = false;\n                li_accumulate = \"\";\n              }\n\n              m[1] = expand_tab( m[1] );\n              var wanted_depth = Math.floor(m[1].length/4)+1;\n              //print( \"want:\", wanted_depth, \"stack:\", stack.length);\n              if ( wanted_depth > stack.length ) {\n                // Deep enough for a nested list outright\n                //print ( \"new nested list\" );\n                list = make_list( m );\n                last_li.push( list );\n                last_li = list[1] = [ \"listitem\" ];\n              }\n              else {\n                // We aren't deep enough to be strictly a new level. This is\n                // where Md.pl goes nuts. If the indent matches a level in the\n                // stack, put it there, else put it one deeper then the\n                // wanted_depth deserves.\n                var found = false;\n                for ( i = 0; i < stack.length; i++ ) {\n                  if ( stack[ i ].indent != m[1] ) continue;\n                  list = stack[ i ].list;\n                  stack.splice( i+1, stack.length - (i+1) );\n                  found = true;\n                  break;\n                }\n\n                if (!found) {\n                  //print(\"not found. l:\", uneval(l));\n                  wanted_depth++;\n                  if ( wanted_depth <= stack.length ) {\n                    stack.splice(wanted_depth, stack.length - wanted_depth);\n                    //print(\"Desired depth now\", wanted_depth, \"stack:\", stack.length);\n                    list = stack[wanted_depth-1].list;\n                    //print(\"list:\", uneval(list) );\n                  }\n                  else {\n                    //print (\"made new stack for messy indent\");\n                    list = make_list(m);\n                    last_li.push(list);\n                  }\n                }\n\n                //print( uneval(list), \"last\", list === stack[stack.length-1].list );\n                last_li = [ \"listitem\" ];\n                list.push(last_li);\n              } // end depth of shenegains\n              nl = \"\";\n            }\n\n            // Add content\n            if ( l.length > m[0].length ) {\n              li_accumulate += nl + l.substr( m[0].length );\n            }\n          } // tight_search\n\n          if ( li_accumulate.length ) {\n            add( last_li, loose, this.processInline( li_accumulate ), nl );\n            // Loose mode will have been dealt with. Reset it\n            loose = false;\n            li_accumulate = \"\";\n          }\n\n          // Look at the next block - we might have a loose list. Or an extra\n          // paragraph for the current li\n          var contained = get_contained_blocks( stack.length, next );\n\n          // Deal with code blocks or properly nested lists\n          if ( contained.length > 0 ) {\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            last_li.push.apply( last_li, this.toTree( contained, [] ) );\n          }\n\n          var next_block = next[0] && next[0].valueOf() || \"\";\n\n          if ( next_block.match(is_list_re) || next_block.match( /^ / ) ) {\n            block = next.shift();\n\n            // Check for an HR following a list: features/lists/hr_abutting\n            var hr = this.dialect.block.horizRule( block, next );\n\n            if ( hr ) {\n              ret.push.apply(ret, hr);\n              break;\n            }\n\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            loose = true;\n            continue loose_search;\n          }\n          break;\n        } // loose_search\n\n        return ret;\n      };\n    })(),\n\n    blockquote: function blockquote( block, next ) {\n      if ( !block.match( /^>/m ) )\n        return undefined;\n\n      var jsonml = [];\n\n      // separate out the leading abutting block, if any. I.e. in this case:\n      //\n      //  a\n      //  > b\n      //\n      if ( block[ 0 ] != \">\" ) {\n        var lines = block.split( /\\n/ ),\n            prev = [],\n            line_no = block.lineNumber;\n\n        // keep shifting lines until you find a crotchet\n        while ( lines.length && lines[ 0 ][ 0 ] != \">\" ) {\n            prev.push( lines.shift() );\n            line_no++;\n        }\n\n        var abutting = mk_block( prev.join( \"\\n\" ), \"\\n\", block.lineNumber );\n        jsonml.push.apply( jsonml, this.processBlock( abutting, [] ) );\n        // reassemble new block of just block quotes!\n        block = mk_block( lines.join( \"\\n\" ), block.trailing, line_no );\n      }\n\n\n      // if the next block is also a blockquote merge it in\n      while ( next.length && next[ 0 ][ 0 ] == \">\" ) {\n        var b = next.shift();\n        block = mk_block( block + block.trailing + b, b.trailing, block.lineNumber );\n      }\n\n      // Strip off the leading \"> \" and re-process as a block.\n      var input = block.replace( /^> ?/gm, \"\" ),\n          old_tree = this.tree,\n          processedBlock = this.toTree( input, [ \"blockquote\" ] ),\n          attr = extract_attr( processedBlock );\n\n      // If any link references were found get rid of them\n      if ( attr && attr.references ) {\n        delete attr.references;\n        // And then remove the attribute object if it's empty\n        if ( isEmpty( attr ) ) {\n          processedBlock.splice( 1, 1 );\n        }\n      }\n\n      jsonml.push( processedBlock );\n      return jsonml;\n    },\n\n    referenceDefn: function referenceDefn( block, next) {\n      var re = /^\\s*\\[(.*?)\\]:\\s*(\\S+)(?:\\s+(?:(['\"])(.*?)\\3|\\((.*?)\\)))?\\n?/;\n      // interesting matches are [ , ref_id, url, , title, title ]\n\n      if ( !block.match(re) )\n        return undefined;\n\n      // make an attribute node if it doesn't exist\n      if ( !extract_attr( this.tree ) ) {\n        this.tree.splice( 1, 0, {} );\n      }\n\n      var attrs = extract_attr( this.tree );\n\n      // make a references hash if it doesn't exist\n      if ( attrs.references === undefined ) {\n        attrs.references = {};\n      }\n\n      var b = this.loop_re_over_block(re, block, function( m ) {\n\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        var ref = attrs.references[ m[1].toLowerCase() ] = {\n          href: m[2]\n        };\n\n        if ( m[4] !== undefined )\n          ref.title = m[4];\n        else if ( m[5] !== undefined )\n          ref.title = m[5];\n\n      } );\n\n      if ( b.length )\n        next.unshift( mk_block( b, block.trailing ) );\n\n      return [];\n    },\n\n    para: function para( block, next ) {\n      // everything's a para!\n      return [ [\"para\"].concat( this.processInline( block ) ) ];\n    }\n  }\n};\n\nMarkdown.dialects.Gruber.inline = {\n\n    __oneElement__: function oneElement( text, patterns_or_re, previous_nodes ) {\n      var m,\n          res,\n          lastIndex = 0;\n\n      patterns_or_re = patterns_or_re || this.dialect.inline.__patterns__;\n      var re = new RegExp( \"([\\\\s\\\\S]*?)(\" + (patterns_or_re.source || patterns_or_re) + \")\" );\n\n      m = re.exec( text );\n      if (!m) {\n        // Just boring text\n        return [ text.length, text ];\n      }\n      else if ( m[1] ) {\n        // Some un-interesting text matched. Return that first\n        return [ m[1].length, m[1] ];\n      }\n\n      var res;\n      if ( m[2] in this.dialect.inline ) {\n        res = this.dialect.inline[ m[2] ].call(\n                  this,\n                  text.substr( m.index ), m, previous_nodes || [] );\n      }\n      // Default for now to make dev easier. just slurp special and output it.\n      res = res || [ m[2].length, m[2] ];\n      return res;\n    },\n\n    __call__: function inline( text, patterns ) {\n\n      var out = [],\n          res;\n\n      function add(x) {\n        //D:self.debug(\"  adding output\", uneval(x));\n        if ( typeof x == \"string\" && typeof out[out.length-1] == \"string\" )\n          out[ out.length-1 ] += x;\n        else\n          out.push(x);\n      }\n\n      while ( text.length > 0 ) {\n        res = this.dialect.inline.__oneElement__.call(this, text, patterns, out );\n        text = text.substr( res.shift() );\n        forEach(res, add )\n      }\n\n      return out;\n    },\n\n    // These characters are intersting elsewhere, so have rules for them so that\n    // chunks of plain text blocks don't include them\n    \"]\": function () {},\n    \"}\": function () {},\n\n    __escape__ : /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-]/,\n\n    \"\\\\\": function escaped( text ) {\n      // [ length of input processed, node/children to add... ]\n      // Only esacape: \\ ` * _ { } [ ] ( ) # * + - . !\n      if ( this.dialect.inline.__escape__.exec( text ) )\n        return [ 2, text.charAt( 1 ) ];\n      else\n        // Not an esacpe\n        return [ 1, \"\\\\\" ];\n    },\n\n    \"![\": function image( text ) {\n\n      // Unlike images, alt text is plain text only. no other elements are\n      // allowed in there\n\n      // ![Alt text](/path/to/img.jpg \"Optional title\")\n      //      1          2            3       4         <--- captures\n      var m = text.match( /^!\\[(.*?)\\][ \\t]*\\([ \\t]*([^\")]*?)(?:[ \\t]+([\"'])(.*?)\\3)?[ \\t]*\\)/ );\n\n      if ( m ) {\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        m[2] = this.dialect.inline.__call__.call( this, m[2], /\\\\/ )[0];\n\n        var attrs = { alt: m[1], href: m[2] || \"\" };\n        if ( m[4] !== undefined)\n          attrs.title = m[4];\n\n        return [ m[0].length, [ \"img\", attrs ] ];\n      }\n\n      // ![Alt text][id]\n      m = text.match( /^!\\[(.*?)\\][ \\t]*\\[(.*?)\\]/ );\n\n      if ( m ) {\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion\n        return [ m[0].length, [ \"img_ref\", { alt: m[1], ref: m[2].toLowerCase(), original: m[0] } ] ];\n      }\n\n      // Just consume the '!['\n      return [ 2, \"![\" ];\n    },\n\n    \"[\": function link( text ) {\n\n      var orig = String(text);\n      // Inline content is possible inside `link text`\n      var res = Markdown.DialectHelpers.inline_until_char.call( this, text.substr(1), \"]\" );\n\n      // No closing ']' found. Just consume the [\n      if ( !res ) return [ 1, \"[\" ];\n\n      var consumed = 1 + res[ 0 ],\n          children = res[ 1 ],\n          link,\n          attrs;\n\n      // At this point the first [...] has been parsed. See what follows to find\n      // out which kind of link we are (reference or direct url)\n      text = text.substr( consumed );\n\n      // [link text](/path/to/img.jpg \"Optional title\")\n      //                 1            2       3         <--- captures\n      // This will capture up to the last paren in the block. We then pull\n      // back based on if there a matching ones in the url\n      //    ([here](/url/(test))\n      // The parens have to be balanced\n      var m = text.match( /^\\s*\\([ \\t]*([^\"']*)(?:[ \\t]+([\"'])(.*?)\\2)?[ \\t]*\\)/ );\n      if ( m ) {\n        var url = m[1];\n        consumed += m[0].length;\n\n        if ( url && url[0] == \"<\" && url[url.length-1] == \">\" )\n          url = url.substring( 1, url.length - 1 );\n\n        // If there is a title we don't have to worry about parens in the url\n        if ( !m[3] ) {\n          var open_parens = 1; // One open that isn't in the capture\n          for ( var len = 0; len < url.length; len++ ) {\n            switch ( url[len] ) {\n            case \"(\":\n              open_parens++;\n              break;\n            case \")\":\n              if ( --open_parens == 0) {\n                consumed -= url.length - len;\n                url = url.substring(0, len);\n              }\n              break;\n            }\n          }\n        }\n\n        // Process escapes only\n        url = this.dialect.inline.__call__.call( this, url, /\\\\/ )[0];\n\n        attrs = { href: url || \"\" };\n        if ( m[3] !== undefined)\n          attrs.title = m[3];\n\n        link = [ \"link\", attrs ].concat( children );\n        return [ consumed, link ];\n      }\n\n      // [Alt text][id]\n      // [Alt text] [id]\n      m = text.match( /^\\s*\\[(.*?)\\]/ );\n\n      if ( m ) {\n\n        consumed += m[ 0 ].length;\n\n        // [links][] uses links as its reference\n        attrs = { ref: ( m[ 1 ] || String(children) ).toLowerCase(),  original: orig.substr( 0, consumed ) };\n\n        link = [ \"link_ref\", attrs ].concat( children );\n\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion.\n        // Store the original so that conversion can revert if the ref isn't found.\n        return [ consumed, link ];\n      }\n\n      // [id]\n      // Only if id is plain (no formatting.)\n      if ( children.length == 1 && typeof children[0] == \"string\" ) {\n\n        attrs = { ref: children[0].toLowerCase(),  original: orig.substr( 0, consumed ) };\n        link = [ \"link_ref\", attrs, children[0] ];\n        return [ consumed, link ];\n      }\n\n      // Just consume the \"[\"\n      return [ 1, \"[\" ];\n    },\n\n\n    \"<\": function autoLink( text ) {\n      var m;\n\n      if ( ( m = text.match( /^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\\.[a-zA-Z]+))>/ ) ) != null ) {\n        if ( m[3] ) {\n          return [ m[0].length, [ \"link\", { href: \"mailto:\" + m[3] }, m[3] ] ];\n\n        }\n        else if ( m[2] == \"mailto\" ) {\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1].substr(\"mailto:\".length ) ] ];\n        }\n        else\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1] ] ];\n      }\n\n      return [ 1, \"<\" ];\n    },\n\n    \"`\": function inlineCode( text ) {\n      // Inline code block. as many backticks as you like to start it\n      // Always skip over the opening ticks.\n      var m = text.match( /(`+)(([\\s\\S]*?)\\1)/ );\n\n      if ( m && m[2] )\n        return [ m[1].length + m[2].length, [ \"inlinecode\", m[3] ] ];\n      else {\n        // TODO: No matching end code found - warn!\n        return [ 1, \"`\" ];\n      }\n    },\n\n    \"  \\n\": function lineBreak( text ) {\n      return [ 3, [ \"linebreak\" ] ];\n    }\n\n};\n\n// Meta Helper/generator method for em and strong handling\nfunction strong_em( tag, md ) {\n\n  var state_slot = tag + \"_state\",\n      other_slot = tag == \"strong\" ? \"em_state\" : \"strong_state\";\n\n  function CloseTag(len) {\n    this.len_after = len;\n    this.name = \"close_\" + md;\n  }\n\n  return function ( text, orig_match ) {\n\n    if ( this[state_slot][0] == md ) {\n      // Most recent em is of this type\n      //D:this.debug(\"closing\", md);\n      this[state_slot].shift();\n\n      // \"Consume\" everything to go back to the recrusion in the else-block below\n      return[ text.length, new CloseTag(text.length-md.length) ];\n    }\n    else {\n      // Store a clone of the em/strong states\n      var other = this[other_slot].slice(),\n          state = this[state_slot].slice();\n\n      this[state_slot].unshift(md);\n\n      //D:this.debug_indent += \"  \";\n\n      // Recurse\n      var res = this.processInline( text.substr( md.length ) );\n      //D:this.debug_indent = this.debug_indent.substr(2);\n\n      var last = res[res.length - 1];\n\n      //D:this.debug(\"processInline from\", tag + \": \", uneval( res ) );\n\n      var check = this[state_slot].shift();\n      if ( last instanceof CloseTag ) {\n        res.pop();\n        // We matched! Huzzah.\n        var consumed = text.length - last.len_after;\n        return [ consumed, [ tag ].concat(res) ];\n      }\n      else {\n        // Restore the state of the other kind. We might have mistakenly closed it.\n        this[other_slot] = other;\n        this[state_slot] = state;\n\n        // We can't reuse the processed result as it could have wrong parsing contexts in it.\n        return [ md.length, md ];\n      }\n    }\n  }; // End returned function\n}\n\nMarkdown.dialects.Gruber.inline[\"**\"] = strong_em(\"strong\", \"**\");\nMarkdown.dialects.Gruber.inline[\"__\"] = strong_em(\"strong\", \"__\");\nMarkdown.dialects.Gruber.inline[\"*\"]  = strong_em(\"em\", \"*\");\nMarkdown.dialects.Gruber.inline[\"_\"]  = strong_em(\"em\", \"_\");\n\n\n// Build default order from insertion order.\nMarkdown.buildBlockOrder = function(d) {\n  var ord = [];\n  for ( var i in d ) {\n    if ( i == \"__order__\" || i == \"__call__\" ) continue;\n    ord.push( i );\n  }\n  d.__order__ = ord;\n};\n\n// Build patterns for inline matcher\nMarkdown.buildInlinePatterns = function(d) {\n  var patterns = [];\n\n  for ( var i in d ) {\n    // __foo__ is reserved and not a pattern\n    if ( i.match( /^__.*__$/) ) continue;\n    var l = i.replace( /([\\\\.*+?|()\\[\\]{}])/g, \"\\\\$1\" )\n             .replace( /\\n/, \"\\\\n\" );\n    patterns.push( i.length == 1 ? l : \"(?:\" + l + \")\" );\n  }\n\n  patterns = patterns.join(\"|\");\n  d.__patterns__ = patterns;\n  //print(\"patterns:\", uneval( patterns ) );\n\n  var fn = d.__call__;\n  d.__call__ = function(text, pattern) {\n    if ( pattern != undefined ) {\n      return fn.call(this, text, pattern);\n    }\n    else\n    {\n      return fn.call(this, text, patterns);\n    }\n  };\n};\n\nMarkdown.DialectHelpers = {};\nMarkdown.DialectHelpers.inline_until_char = function( text, want ) {\n  var consumed = 0,\n      nodes = [];\n\n  while ( true ) {\n    if ( text.charAt( consumed ) == want ) {\n      // Found the character we were looking for\n      consumed++;\n      return [ consumed, nodes ];\n    }\n\n    if ( consumed >= text.length ) {\n      // No closing char found. Abort.\n      return null;\n    }\n\n    var res = this.dialect.inline.__oneElement__.call(this, text.substr( consumed ) );\n    consumed += res[ 0 ];\n    // Add any returned nodes.\n    nodes.push.apply( nodes, res.slice( 1 ) );\n  }\n}\n\n// Helper function to make sub-classing a dialect easier\nMarkdown.subclassDialect = function( d ) {\n  function Block() {}\n  Block.prototype = d.block;\n  function Inline() {}\n  Inline.prototype = d.inline;\n\n  return { block: new Block(), inline: new Inline() };\n};\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Gruber.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Gruber.inline );\n\nMarkdown.dialects.Maruku = Markdown.subclassDialect( Markdown.dialects.Gruber );\n\nMarkdown.dialects.Maruku.processMetaHash = function processMetaHash( meta_string ) {\n  var meta = split_meta_hash( meta_string ),\n      attr = {};\n\n  for ( var i = 0; i < meta.length; ++i ) {\n    // id: #foo\n    if ( /^#/.test( meta[ i ] ) ) {\n      attr.id = meta[ i ].substring( 1 );\n    }\n    // class: .foo\n    else if ( /^\\./.test( meta[ i ] ) ) {\n      // if class already exists, append the new one\n      if ( attr[\"class\"] ) {\n        attr[\"class\"] = attr[\"class\"] + meta[ i ].replace( /./, \" \" );\n      }\n      else {\n        attr[\"class\"] = meta[ i ].substring( 1 );\n      }\n    }\n    // attribute: foo=bar\n    else if ( /\\=/.test( meta[ i ] ) ) {\n      var s = meta[ i ].split( /\\=/ );\n      attr[ s[ 0 ] ] = s[ 1 ];\n    }\n  }\n\n  return attr;\n}\n\nfunction split_meta_hash( meta_string ) {\n  var meta = meta_string.split( \"\" ),\n      parts = [ \"\" ],\n      in_quotes = false;\n\n  while ( meta.length ) {\n    var letter = meta.shift();\n    switch ( letter ) {\n      case \" \" :\n        // if we're in a quoted section, keep it\n        if ( in_quotes ) {\n          parts[ parts.length - 1 ] += letter;\n        }\n        // otherwise make a new part\n        else {\n          parts.push( \"\" );\n        }\n        break;\n      case \"'\" :\n      case '\"' :\n        // reverse the quotes and move straight on\n        in_quotes = !in_quotes;\n        break;\n      case \"\\\\\" :\n        // shift off the next letter to be used straight away.\n        // it was escaped so we'll keep it whatever it is\n        letter = meta.shift();\n      default :\n        parts[ parts.length - 1 ] += letter;\n        break;\n    }\n  }\n\n  return parts;\n}\n\nMarkdown.dialects.Maruku.block.document_meta = function document_meta( block, next ) {\n  // we're only interested in the first block\n  if ( block.lineNumber > 1 ) return undefined;\n\n  // document_meta blocks consist of one or more lines of `Key: Value\\n`\n  if ( ! block.match( /^(?:\\w+:.*\\n)*\\w+:.*$/ ) ) return undefined;\n\n  // make an attribute node if it doesn't exist\n  if ( !extract_attr( this.tree ) ) {\n    this.tree.splice( 1, 0, {} );\n  }\n\n  var pairs = block.split( /\\n/ );\n  for ( p in pairs ) {\n    var m = pairs[ p ].match( /(\\w+):\\s*(.*)$/ ),\n        key = m[ 1 ].toLowerCase(),\n        value = m[ 2 ];\n\n    this.tree[ 1 ][ key ] = value;\n  }\n\n  // document_meta produces no content!\n  return [];\n};\n\nMarkdown.dialects.Maruku.block.block_meta = function block_meta( block, next ) {\n  // check if the last line of the block is an meta hash\n  var m = block.match( /(^|\\n) {0,3}\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}$/ );\n  if ( !m ) return undefined;\n\n  // process the meta hash\n  var attr = this.dialect.processMetaHash( m[ 2 ] );\n\n  var hash;\n\n  // if we matched ^ then we need to apply meta to the previous block\n  if ( m[ 1 ] === \"\" ) {\n    var node = this.tree[ this.tree.length - 1 ];\n    hash = extract_attr( node );\n\n    // if the node is a string (rather than JsonML), bail\n    if ( typeof node === \"string\" ) return undefined;\n\n    // create the attribute hash if it doesn't exist\n    if ( !hash ) {\n      hash = {};\n      node.splice( 1, 0, hash );\n    }\n\n    // add the attributes in\n    for ( a in attr ) {\n      hash[ a ] = attr[ a ];\n    }\n\n    // return nothing so the meta hash is removed\n    return [];\n  }\n\n  // pull the meta hash off the block and process what's left\n  var b = block.replace( /\\n.*$/, \"\" ),\n      result = this.processBlock( b, [] );\n\n  // get or make the attributes hash\n  hash = extract_attr( result[ 0 ] );\n  if ( !hash ) {\n    hash = {};\n    result[ 0 ].splice( 1, 0, hash );\n  }\n\n  // attach the attributes to the block\n  for ( a in attr ) {\n    hash[ a ] = attr[ a ];\n  }\n\n  return result;\n};\n\nMarkdown.dialects.Maruku.block.definition_list = function definition_list( block, next ) {\n  // one or more terms followed by one or more definitions, in a single block\n  var tight = /^((?:[^\\s:].*\\n)+):\\s+([\\s\\S]+)$/,\n      list = [ \"dl\" ],\n      i, m;\n\n  // see if we're dealing with a tight or loose block\n  if ( ( m = block.match( tight ) ) ) {\n    // pull subsequent tight DL blocks out of `next`\n    var blocks = [ block ];\n    while ( next.length && tight.exec( next[ 0 ] ) ) {\n      blocks.push( next.shift() );\n    }\n\n    for ( var b = 0; b < blocks.length; ++b ) {\n      var m = blocks[ b ].match( tight ),\n          terms = m[ 1 ].replace( /\\n$/, \"\" ).split( /\\n/ ),\n          defns = m[ 2 ].split( /\\n:\\s+/ );\n\n      // print( uneval( m ) );\n\n      for ( i = 0; i < terms.length; ++i ) {\n        list.push( [ \"dt\", terms[ i ] ] );\n      }\n\n      for ( i = 0; i < defns.length; ++i ) {\n        // run inline processing over the definition\n        list.push( [ \"dd\" ].concat( this.processInline( defns[ i ].replace( /(\\n)\\s+/, \"$1\" ) ) ) );\n      }\n    }\n  }\n  else {\n    return undefined;\n  }\n\n  return [ list ];\n};\n\n// splits on unescaped instances of @ch. If @ch is not a character the result\n// can be unpredictable\n\nMarkdown.dialects.Maruku.block.table = function table (block, next) {\n\n    var _split_on_unescaped = function(s, ch) {\n        ch = ch || '\\\\s';\n        if (ch.match(/^[\\\\|\\[\\]{}?*.+^$]$/)) { ch = '\\\\' + ch; }\n        var res = [ ],\n            r = new RegExp('^((?:\\\\\\\\.|[^\\\\\\\\' + ch + '])*)' + ch + '(.*)'),\n            m;\n        while(m = s.match(r)) {\n            res.push(m[1]);\n            s = m[2];\n        }\n        res.push(s);\n        return res;\n    }\n\n    var leading_pipe = /^ {0,3}\\|(.+)\\n {0,3}\\|\\s*([\\-:]+[\\-| :]*)\\n((?:\\s*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        // find at least an unescaped pipe in each line\n        no_leading_pipe = /^ {0,3}(\\S(?:\\\\.|[^\\\\|])*\\|.*)\\n {0,3}([\\-:]+\\s*\\|[\\-| :]*)\\n((?:(?:\\\\.|[^\\\\|])*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        i, m;\n    if (m = block.match(leading_pipe)) {\n        // remove leading pipes in contents\n        // (header and horizontal rule already have the leading pipe left out)\n        m[3] = m[3].replace(/^\\s*\\|/gm, '');\n    } else if (! ( m = block.match(no_leading_pipe))) {\n        return undefined;\n    }\n\n    var table = [ \"table\", [ \"thead\", [ \"tr\" ] ], [ \"tbody\" ] ];\n\n    // remove trailing pipes, then split on pipes\n    // (no escaped pipes are allowed in horizontal rule)\n    m[2] = m[2].replace(/\\|\\s*$/, '').split('|');\n\n    // process alignment\n    var html_attrs = [ ];\n    forEach (m[2], function (s) {\n        if (s.match(/^\\s*-+:\\s*$/))       html_attrs.push({align: \"right\"});\n        else if (s.match(/^\\s*:-+\\s*$/))  html_attrs.push({align: \"left\"});\n        else if (s.match(/^\\s*:-+:\\s*$/)) html_attrs.push({align: \"center\"});\n        else                              html_attrs.push({});\n    });\n\n    // now for the header, avoid escaped pipes\n    m[1] = _split_on_unescaped(m[1].replace(/\\|\\s*$/, ''), '|');\n    for (i = 0; i < m[1].length; i++) {\n        table[1][1].push(['th', html_attrs[i] || {}].concat(\n            this.processInline(m[1][i].trim())));\n    }\n\n    // now for body contents\n    forEach (m[3].replace(/\\|\\s*$/mg, '').split('\\n'), function (row) {\n        var html_row = ['tr'];\n        row = _split_on_unescaped(row, '|');\n        for (i = 0; i < row.length; i++) {\n            html_row.push(['td', html_attrs[i] || {}].concat(this.processInline(row[i].trim())));\n        }\n        table[2].push(html_row);\n    }, this);\n\n    return [table];\n}\n\nMarkdown.dialects.Maruku.inline[ \"{:\" ] = function inline_meta( text, matches, out ) {\n  if ( !out.length ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // get the preceeding element\n  var before = out[ out.length - 1 ];\n\n  if ( typeof before === \"string\" ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // match a meta hash\n  var m = text.match( /^\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}/ );\n\n  // no match, false alarm\n  if ( !m ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // attach the attributes to the preceeding element\n  var meta = this.dialect.processMetaHash( m[ 1 ] ),\n      attr = extract_attr( before );\n\n  if ( !attr ) {\n    attr = {};\n    before.splice( 1, 0, attr );\n  }\n\n  for ( var k in meta ) {\n    attr[ k ] = meta[ k ];\n  }\n\n  // cut out the string and replace it with nothing\n  return [ m[ 0 ].length, \"\" ];\n};\n\nMarkdown.dialects.Maruku.inline.__escape__ = /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-|:]/;\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Maruku.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Maruku.inline );\n\nvar isArray = Array.isArray || function(obj) {\n  return Object.prototype.toString.call(obj) == \"[object Array]\";\n};\n\nvar forEach;\n// Don't mess with Array.prototype. Its not friendly\nif ( Array.prototype.forEach ) {\n  forEach = function( arr, cb, thisp ) {\n    return arr.forEach( cb, thisp );\n  };\n}\nelse {\n  forEach = function(arr, cb, thisp) {\n    for (var i = 0; i < arr.length; i++) {\n      cb.call(thisp || arr, arr[i], i, arr);\n    }\n  }\n}\n\nvar isEmpty = function( obj ) {\n  for ( var key in obj ) {\n    if ( hasOwnProperty.call( obj, key ) ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction extract_attr( jsonml ) {\n  return isArray(jsonml)\n      && jsonml.length > 1\n      && typeof jsonml[ 1 ] === \"object\"\n      && !( isArray(jsonml[ 1 ]) )\n      ? jsonml[ 1 ]\n      : undefined;\n}\n\n\n\n/**\n *  renderJsonML( jsonml[, options] ) -> String\n *  - jsonml (Array): JsonML array to render to XML\n *  - options (Object): options\n *\n *  Converts the given JsonML into well-formed XML.\n *\n *  The options currently understood are:\n *\n *  - root (Boolean): wether or not the root node should be included in the\n *    output, or just its children. The default `false` is to not include the\n *    root itself.\n */\nexpose.renderJsonML = function( jsonml, options ) {\n  options = options || {};\n  // include the root element in the rendered output?\n  options.root = options.root || false;\n\n  var content = [];\n\n  if ( options.root ) {\n    content.push( render_tree( jsonml ) );\n  }\n  else {\n    jsonml.shift(); // get rid of the tag\n    if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n      jsonml.shift(); // get rid of the attributes\n    }\n\n    while ( jsonml.length ) {\n      content.push( render_tree( jsonml.shift() ) );\n    }\n  }\n\n  return content.join( \"\\n\\n\" );\n};\n\nfunction escapeHTML( text ) {\n  return text.replace( /&/g, \"&amp;\" )\n             .replace( /</g, \"&lt;\" )\n             .replace( />/g, \"&gt;\" )\n             .replace( /\"/g, \"&quot;\" )\n             .replace( /'/g, \"&#39;\" );\n}\n\nfunction render_tree( jsonml ) {\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return escapeHTML( jsonml );\n  }\n\n  var tag = jsonml.shift(),\n      attributes = {},\n      content = [];\n\n  if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n    attributes = jsonml.shift();\n  }\n\n  while ( jsonml.length ) {\n    content.push( render_tree( jsonml.shift() ) );\n  }\n\n  var tag_attrs = \"\";\n  for ( var a in attributes ) {\n    tag_attrs += \" \" + a + '=\"' + escapeHTML( attributes[ a ] ) + '\"';\n  }\n\n  // be careful about adding whitespace here for inline elements\n  if ( tag == \"img\" || tag == \"br\" || tag == \"hr\" ) {\n    return \"<\"+ tag + tag_attrs + \"/>\";\n  }\n  else {\n    return \"<\"+ tag + tag_attrs + \">\" + content.join( \"\" ) + \"</\" + tag + \">\";\n  }\n}\n\nfunction convert_tree_to_html( tree, references, options ) {\n  var i;\n  options = options || {};\n\n  // shallow clone\n  var jsonml = tree.slice( 0 );\n\n  if ( typeof options.preprocessTreeNode === \"function\" ) {\n      jsonml = options.preprocessTreeNode(jsonml, references);\n  }\n\n  // Clone attributes if they exist\n  var attrs = extract_attr( jsonml );\n  if ( attrs ) {\n    jsonml[ 1 ] = {};\n    for ( i in attrs ) {\n      jsonml[ 1 ][ i ] = attrs[ i ];\n    }\n    attrs = jsonml[ 1 ];\n  }\n\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return jsonml;\n  }\n\n  // convert this node\n  switch ( jsonml[ 0 ] ) {\n    case \"header\":\n      jsonml[ 0 ] = \"h\" + jsonml[ 1 ].level;\n      delete jsonml[ 1 ].level;\n      break;\n    case \"bulletlist\":\n      jsonml[ 0 ] = \"ul\";\n      break;\n    case \"numberlist\":\n      jsonml[ 0 ] = \"ol\";\n      break;\n    case \"listitem\":\n      jsonml[ 0 ] = \"li\";\n      break;\n    case \"para\":\n      jsonml[ 0 ] = \"p\";\n      break;\n    case \"markdown\":\n      jsonml[ 0 ] = \"html\";\n      if ( attrs ) delete attrs.references;\n      break;\n    case \"code_block\":\n      jsonml[ 0 ] = \"pre\";\n      i = attrs ? 2 : 1;\n      var code = [ \"code\" ];\n      code.push.apply( code, jsonml.splice( i, jsonml.length - i ) );\n      jsonml[ i ] = code;\n      break;\n    case \"inlinecode\":\n      jsonml[ 0 ] = \"code\";\n      break;\n    case \"img\":\n      jsonml[ 1 ].src = jsonml[ 1 ].href;\n      delete jsonml[ 1 ].href;\n      break;\n    case \"linebreak\":\n      jsonml[ 0 ] = \"br\";\n    break;\n    case \"link\":\n      jsonml[ 0 ] = \"a\";\n      break;\n    case \"link_ref\":\n      jsonml[ 0 ] = \"a\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.href = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n    case \"img_ref\":\n      jsonml[ 0 ] = \"img\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.src = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n  }\n\n  // convert all the children\n  i = 1;\n\n  // deal with the attribute node, if it exists\n  if ( attrs ) {\n    // if there are keys, skip over it\n    for ( var key in jsonml[ 1 ] ) {\n        i = 2;\n        break;\n    }\n    // if there aren't, remove it\n    if ( i === 1 ) {\n      jsonml.splice( i, 1 );\n    }\n  }\n\n  for ( ; i < jsonml.length; ++i ) {\n    jsonml[ i ] = convert_tree_to_html( jsonml[ i ], references, options );\n  }\n\n  return jsonml;\n}\n\n\n// merges adjacent text nodes into a single node\nfunction merge_text_nodes( jsonml ) {\n  // skip the tag name and attribute hash\n  var i = extract_attr( jsonml ) ? 2 : 1;\n\n  while ( i < jsonml.length ) {\n    // if it's a string check the next item too\n    if ( typeof jsonml[ i ] === \"string\" ) {\n      if ( i + 1 < jsonml.length && typeof jsonml[ i + 1 ] === \"string\" ) {\n        // merge the second string into the first and remove it\n        jsonml[ i ] += jsonml.splice( i + 1, 1 )[ 0 ];\n      }\n      else {\n        ++i;\n      }\n    }\n    // if it's not a string recurse\n    else {\n      merge_text_nodes( jsonml[ i ] );\n      ++i;\n    }\n  }\n}\n\n} )( (function() {\n  if ( typeof exports === \"undefined\" ) {\n    window.markdown = {};\n    return window.markdown;\n  }\n  else {\n    return exports;\n  }\n} )() );\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/markdown/lib/markdown.js\n// module id = 119\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/util.js\n// module id = 120\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 121\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 122\n// module chunks = 0","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/support/isBufferBrowser.js\n// module id = 123\n// module chunks = 0","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/node_modules/inherits/inherits_browser.js\n// module id = 124\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.message.text && _vm.message.type === 'human')?_c('div',{staticClass:\"message-text\"},[_vm._v(\"\\n  \"+_vm._s(_vm.message.text)+\"\\n\")]):(_vm.altHtmlMessage && _vm.AllowSuperDangerousHTMLInMessage)?_c('div',{staticClass:\"message-text\",domProps:{\"innerHTML\":_vm._s(_vm.altHtmlMessage)}}):(_vm.message.text && _vm.shouldRenderAsHtml)?_c('div',{staticClass:\"message-text\",domProps:{\"innerHTML\":_vm._s(_vm.botMessageAsHtml)}}):(_vm.message.text && _vm.message.type === 'bot')?_c('div',{staticClass:\"message-text\"},[_vm._v(\"\\n  \"+_vm._s((_vm.shouldStripTags) ? _vm.stripTagsFromMessage(_vm.message.text) : _vm.message.text)+\"\\n\")]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d292598c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MessageText.vue\n// module id = 125\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19ae77ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResponseCard.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResponseCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResponseCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19ae77ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResponseCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-19ae77ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResponseCard.vue\n// module id = 126\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-19ae77ba\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/ResponseCard.vue\n// module id = 127\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[(_vm.responseCard.title.trim())?_c('v-card-title',{staticClass:\"red lighten-5\",attrs:{\"primary-title\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.responseCard.title))])]):_vm._e(),_vm._v(\" \"),(_vm.responseCard.subTitle)?_c('v-card-text',[_c('span',[_vm._v(_vm._s(_vm.responseCard.subTitle))])]):_vm._e(),_vm._v(\" \"),(_vm.responseCard.imageUrl)?_c('v-card-media',{attrs:{\"src\":_vm.responseCard.imageUrl,\"contain\":\"\",\"height\":\"33vh\"}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.responseCard.buttons),function(button,index){return _c('v-card-actions',{key:index,staticClass:\"button-row\",attrs:{\"actions\":\"\"}},[(button.text && button.value)?_c('v-btn',{attrs:{\"disabled\":_vm.hasButtonBeenClicked,\"default\":\"\"},nativeOn:{\"~click\":function($event){_vm.onButtonClick(button.value)}}},[_vm._v(\"\\n      \"+_vm._s(button.text)+\"\\n    \")]):_vm._e()],1)}),_vm._v(\" \"),(_vm.responseCard.attachmentLinkUrl)?_c('v-card-actions',[_c('v-btn',{staticClass:\"red lighten-5\",attrs:{\"flat\":\"\",\"tag\":\"a\",\"href\":_vm.responseCard.attachmentLinkUrl,\"target\":\"_blank\"}},[_vm._v(\"\\n      Open Link\\n    \")])],1):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19ae77ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResponseCard.vue\n// module id = 128\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{staticClass:\"message\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-layout\",attrs:{\"column\":\"\",\"ma-2\":\"\"}},[_c('v-flex',{staticClass:\"message-bubble-date-container\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-bubble-column\",attrs:{\"column\":\"\"}},[_c('v-flex',{staticClass:\"message-bubble-avatar-container\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-bubble-row\",attrs:{\"row\":\"\"}},[(_vm.shouldShowAvatarImage)?_c('div',{staticClass:\"bot-avatar focusable\",style:(_vm.botAvatarBackground),attrs:{\"tabindex\":_vm.message.id + 1}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"message-bubble focusable\",attrs:{\"tabindex\":_vm.message.id + 1},on:{\"focus\":_vm.onMessageFocus,\"blur\":_vm.onMessageBlur}},[('text' in _vm.message && _vm.message.text !== null && _vm.message.text.length)?_c('message-text',{attrs:{\"message\":_vm.message}}):_vm._e(),_vm._v(\" \"),(_vm.message.type === 'human' && _vm.message.audio)?_c('div',{staticClass:\"message-audio\"},[_c('audio',[_c('source',{attrs:{\"src\":_vm.message.audio,\"type\":\"audio/wav\"}})]),_vm._v(\" \"),_c('v-btn',{staticClass:\"black--text ml-0 mr-0\",attrs:{\"tabindex\":_vm.message.id + 1,\"icon\":\"\"},on:{\"click\":_vm.playAudio}},[_c('v-icon',{staticClass:\"play-icon\"},[_vm._v(\"play_circle_outline\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.message.type === 'bot' && _vm.botDialogState)?_c('v-icon',{staticClass:\"dialog-state\",class:(\"dialog-state-\" + (_vm.botDialogState.state)),attrs:{\"medium\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.botDialogState.icon)+\"\\n              \")]):_vm._e()],1)])],1),_vm._v(\" \"),(_vm.shouldShowMessageDate && _vm.isMessageFocused)?_c('v-flex',{staticClass:\"text-xs-center message-date\"},[_vm._v(\"\\n          \"+_vm._s(_vm.messageHumanDate)+\"\\n        \")]):_vm._e()],1)],1),_vm._v(\" \"),(_vm.shouldDisplayResponseCard)?_c('v-flex',{staticClass:\"response-card\",attrs:{\"d-flex\":\"\",\"mt-2\":\"\",\"mr-2\":\"\",\"ml-3\":\"\"}},_vm._l((_vm.message.responseCard.genericAttachments),function(card,index){return _c('response-card',{key:index,attrs:{\"response-card\":card}})})):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f26fa868\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Message.vue\n// module id = 129\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d624218\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MessageLoading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageLoading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MessageLoading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d624218\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MessageLoading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d624218\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MessageLoading.vue\n// module id = 130\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6d624218\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/MessageLoading.vue\n// module id = 131\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{staticClass:\"message message-bot\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-layout\",attrs:{\"column\":\"\",\"ma-2\":\"\"}},[_c('v-flex',{staticClass:\"message-bubble-date-container\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-bubble-column\",attrs:{\"column\":\"\"}},[_c('v-flex',{staticClass:\"message-bubble-avatar-container\",attrs:{\"d-flex\":\"\"}},[_c('v-layout',{staticClass:\"message-bubble-row\",attrs:{\"row\":\"\"}},[_c('div',{staticClass:\"message-bubble focusable\"},[_vm._v(\"\\n              \"+_vm._s(_vm.progress)+\" \\n            \")])])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d624218\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MessageLoading.vue\n// module id = 132\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"message-list\",attrs:{\"column\":\"\",\"fill-height\":\"\"}},[_vm._l((_vm.messages),function(message){return _c('message',{key:message.id,ref:\"messages\",refInFor:true,class:(\"message-\" + (message.type)),attrs:{\"message\":message},on:{\"scrollDown\":_vm.scrollDown}})}),_vm._v(\" \"),(_vm.loading)?_c('MessageLoading'):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f155304\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MessageList.vue\n// module id = 133\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62d75cef\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62d75cef\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InputContainer.vue\n// module id = 134\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62d75cef\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/InputContainer.vue\n// module id = 135\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-85675648\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RecorderStatus.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RecorderStatus.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RecorderStatus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-85675648\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RecorderStatus.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-85675648\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RecorderStatus.vue\n// module id = 136\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-85675648\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/RecorderStatus.vue\n// module id = 137\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{staticClass:\"recorder-status white\"},[_c('div',{staticClass:\"status-text\"},[_c('span',[_vm._v(_vm._s(_vm.statusText))])]),_vm._v(\" \"),_c('div',{staticClass:\"voice-controls ml-2\"},[_c('transition',{attrs:{\"css\":false},on:{\"enter\":_vm.enterMeter,\"leave\":_vm.leaveMeter}},[(_vm.isRecording)?_c('div',{staticClass:\"volume-meter\"},[_c('meter',{attrs:{\"value\":_vm.volume,\"min\":\"0.0001\",\"low\":\"0.005\",\"optimum\":\"0.04\",\"high\":\"0.07\",\"max\":\"0.09\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.isProcessing)?_c('v-progress-linear',{staticClass:\"processing-bar ma-0\",attrs:{\"indeterminate\":true}}):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"css\":false},on:{\"enter\":_vm.enterAudioPlay,\"leave\":_vm.leaveAudioPlay}},[(_vm.isBotSpeaking)?_c('v-progress-linear',{staticClass:\"audio-progress-bar ma-0\",model:{value:(_vm.audioPlayPercent),callback:function ($$v) {_vm.audioPlayPercent=$$v},expression:\"audioPlayPercent\"}}):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-85675648\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RecorderStatus.vue\n// module id = 138\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-footer',{attrs:{\"app\":\"\",\"fixed\":\"\"}},[_c('v-layout',{staticClass:\"input-container\",attrs:{\"row\":\"\",\"justify-space-between\":\"\",\"ma-0\":\"\"}},[_c('v-toolbar',{attrs:{\"color\":\"white\",\"dense\":\"\"}},[_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowTextInput),expression:\"shouldShowTextInput\"}],attrs:{\"label\":_vm.textInputPlaceholder,\"id\":\"text-input\",\"name\":\"text-input\",\"single-line\":\"\",\"hide-details\":\"\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }$event.stopPropagation();_vm.postTextMessage($event)},\"focus\":_vm.onTextFieldFocus,\"blur\":_vm.onTextFieldBlur},model:{value:(_vm.textInput),callback:function ($$v) {_vm.textInput=$$v},expression:\"textInput\"}}),_vm._v(\" \"),_c('recorder-status',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.shouldShowTextInput),expression:\"!shouldShowTextInput\"}]}),_vm._v(\" \"),_c('v-tooltip',{ref:\"tooltip\",attrs:{\"activator\":\".input-button\",\"left\":\"\"},model:{value:(_vm.shouldShowTooltip),callback:function ($$v) {_vm.shouldShowTooltip=$$v},expression:\"shouldShowTooltip\"}},[_c('span',{attrs:{\"id\":\"input-button-tooltip\"}},[_vm._v(_vm._s(_vm.inputButtonTooltip))])]),_vm._v(\" \"),(_vm.shouldShowSendButton)?_c('v-btn',_vm._g({ref:\"send\",staticClass:\"black--text input-button\",attrs:{\"disabled\":_vm.isSendButtonDisabled,\"icon\":\"\"},on:{\"click\":_vm.postTextMessage}},_vm.tooltipEventHandlers),[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\"send\")])],1):_c('v-btn',_vm._g({ref:\"mic\",staticClass:\"black--text input-button\",attrs:{\"disabled\":_vm.isMicButtonDisabled,\"icon\":\"\"},on:{\"click\":_vm.onMicClick}},_vm.tooltipEventHandlers),[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(_vm._s(_vm.micButtonIcon))])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62d75cef\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InputContainer.vue\n// module id = 139\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"lex-web\"}},[_c('toolbar-container',{attrs:{\"toolbar-title\":_vm.toolbarTitle,\"toolbar-color\":_vm.toolbarColor,\"toolbar-logo\":_vm.toolbarLogo,\"is-ui-minimized\":_vm.isUiMinimized},on:{\"toggleMinimizeUi\":_vm.toggleMinimizeUi}}),_vm._v(\" \"),_c('v-content',[_c('v-container',{staticClass:\"message-list-container\",attrs:{\"fluid\":\"\",\"pa-0\":\"\"}},[_c('message-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isUiMinimized),expression:\"!isUiMinimized\"}]})],1)],1),_vm._v(\" \"),(!_vm.isUiMinimized)?_c('input-container',{attrs:{\"text-input-placeholder\":_vm.textInputPlaceholder,\"initial-speech-instruction\":_vm.initialSpeechInstruction}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fdf03b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LexWeb.vue\n// module id = 140\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* global atob Blob URL */\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint no-param-reassign: off */\n\nimport initialState from '@/store/state';\nimport getters from '@/store/getters';\nimport mutations from '@/store/mutations';\nimport actions from '@/store/actions';\n\nexport default {\n  // prevent changes outside of mutation handlers\n  strict: (process.env.NODE_ENV === 'development'),\n  state: initialState,\n  getters,\n  mutations,\n  actions,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Sets up the initial state of the store\n */\nimport { config } from '@/config';\n\nexport default {\n  version: (process.env.PACKAGE_VERSION) ?\n    process.env.PACKAGE_VERSION : '0.0.0',\n  lex: {\n    acceptFormat: 'audio/ogg',\n    dialogState: '',\n    isInterrupting: false,\n    isProcessing: false,\n    inputTranscript: '',\n    intentName: '',\n    message: '',\n    responseCard: null,\n    sessionAttributes: (\n      config.lex &&\n      config.lex.sessionAttributes &&\n      typeof config.lex.sessionAttributes === 'object'\n    ) ? { ...config.lex.sessionAttributes } : {},\n    slotToElicit: '',\n    slots: {},\n  },\n  messages: [],\n  polly: {\n    outputFormat: 'ogg_vorbis',\n    voiceId: (\n      config.polly &&\n      config.polly.voiceId &&\n      typeof config.polly.voiceId === 'string'\n    ) ? `${config.polly.voiceId}` : 'Joanna',\n  },\n  botAudio: {\n    canInterrupt: false,\n    interruptIntervalId: null,\n    autoPlay: false,\n    isInterrupting: false,\n    isSpeaking: false,\n  },\n  recState: {\n    isConversationGoing: false,\n    isInterrupting: false,\n    isMicMuted: false,\n    isMicQuiet: true,\n    isRecorderSupported: false,\n    isRecorderEnabled: (config.recorder) ? !!config.recorder.enable : true,\n    isRecording: false,\n    silentRecordingCount: 0,\n  },\n\n  isRunningEmbedded: false, // am I running in an iframe?\n  isUiMinimized: false, // when running embedded, is the iframe minimized?\n  config,\n\n  awsCreds: {\n    provider: 'cognito', // cognito|parentWindow\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 143\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 144\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 145\n// module chunks = 0","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 146\n// module chunks = 0","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 147\n// module chunks = 0","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 148\n// module chunks = 0","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 149\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 150\n// module chunks = 0","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 151\n// module chunks = 0","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 152\n// module chunks = 0","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 153\n// module chunks = 0","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 154\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 155\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 156\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 157\n// module chunks = 0","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 158\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 159\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 160\n// module chunks = 0","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 161\n// module chunks = 0","var map = {\n\t\"./config.dev.json\": 163,\n\t\"./config.prod.json\": 164,\n\t\"./config.test.json\": 165\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 162;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config ^\\.\\/config\\..*\\.json$\n// module id = 162\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"http://localhost:8080\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.dev.json\n// module id = 163\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.prod.json\n// module id = 164\n// module chunks = 0","module.exports = {\"cognito\":{\"poolId\":\"\"},\"lex\":{\"botName\":\"WebUiOrderFlowers\",\"initialText\":\"You can ask me for help ordering flowers. Just type \\\"order flowers\\\" or click on the mic and say it.\",\"initialSpeechInstruction\":\"Say 'Order Flowers' to get started.\"},\"polly\":{\"voiceId\":\"Salli\"},\"ui\":{\"parentOrigin\":\"http://localhost:8080\",\"pageTitle\":\"Order Flowers Bot\",\"toolbarTitle\":\"Order Flowers\"},\"recorder\":{\"preset\":\"speech_recognition\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/config/config.test.json\n// module id = 165\n// module chunks = 0","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\nexport default {\n  canInterruptBotPlayback: state => state.botAudio.canInterrupt,\n  isBotSpeaking: state => state.botAudio.isSpeaking,\n  isConversationGoing: state => state.recState.isConversationGoing,\n  isLexInterrupting: state => state.lex.isInterrupting,\n  isLexProcessing: state => state.lex.isProcessing,\n  isMicMuted: state => state.recState.isMicMuted,\n  isMicQuiet: state => state.recState.isMicQuiet,\n  isRecorderSupported: state => state.recState.isRecorderSupported,\n  isRecording: state => state.recState.isRecording,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Store mutations\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n/* eslint spaced-comment: [\"error\", \"always\", { \"exceptions\": [\"*\"] }] */\n\nimport { mergeConfig } from '@/config';\n\nexport default {\n  /***********************************************************************\n   *\n   * Recorder State Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * true if recorder seems to be muted\n   */\n  setIsMicMuted(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsMicMuted status not boolean', bool);\n      return;\n    }\n    if (state.config.recorder.useAutoMuteDetect) {\n      state.recState.isMicMuted = bool;\n    }\n  },\n  /**\n   * set to true if mic if sound from mic is not loud enough\n   */\n  setIsMicQuiet(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsMicQuiet status not boolean', bool);\n      return;\n    }\n    state.recState.isMicQuiet = bool;\n  },\n  /**\n   * set to true while speech conversation is going\n   */\n  setIsConversationGoing(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsConversationGoing status not boolean', bool);\n      return;\n    }\n    state.recState.isConversationGoing = bool;\n  },\n  /**\n   * Signals recorder to start and sets recoding state to true\n   */\n  startRecording(state, recorder) {\n    console.info('start recording');\n    if (state.recState.isRecording === false) {\n      recorder.start();\n      state.recState.isRecording = true;\n    }\n  },\n  /**\n   * Set recording state to false\n   */\n  stopRecording(state, recorder) {\n    if (state.recState.isRecording === true) {\n      state.recState.isRecording = false;\n      if (recorder.isRecording) {\n        recorder.stop();\n      }\n    }\n  },\n  /**\n   * Increase consecutive silent recordings count\n   * This is used to bail out from the conversation\n   * when too many recordings are silent\n   */\n  increaseSilentRecordingCount(state) {\n    state.recState.silentRecordingCount += 1;\n  },\n  /**\n   * Reset the number of consecutive silent recordings\n   */\n  resetSilentRecordingCount(state) {\n    state.recState.silentRecordingCount = 0;\n  },\n  /**\n   * Set to true if audio recording should be enabled\n   */\n  setIsRecorderEnabled(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRecorderEnabled status not boolean', bool);\n      return;\n    }\n    state.recState.isRecorderEnabled = bool;\n  },\n  /**\n   * Set to true if audio recording is supported\n   */\n  setIsRecorderSupported(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRecorderSupported status not boolean', bool);\n      return;\n    }\n    state.recState.isRecorderSupported = bool;\n  },\n\n  /***********************************************************************\n   *\n   * Bot Audio Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * set to true while audio from Lex is playing\n   */\n  setIsBotSpeaking(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsBotSpeaking status not boolean', bool);\n      return;\n    }\n    state.botAudio.isSpeaking = bool;\n  },\n  /**\n   * Set to true when the Lex audio is ready to autoplay\n   * after it has already played audio on user interaction (click)\n   */\n  setAudioAutoPlay(state, { audio, status }) {\n    if (typeof status !== 'boolean') {\n      console.error('setAudioAutoPlay status not boolean', status);\n      return;\n    }\n    state.botAudio.autoPlay = status;\n    audio.autoplay = status;\n  },\n  /**\n  * set to true if bot playback can be interrupted\n  */\n  setCanInterruptBotPlayback(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setCanInterruptBotPlayback status not boolean', bool);\n      return;\n    }\n    state.botAudio.canInterrupt = bool;\n  },\n  /**\n  * set to true if bot playback is being interrupted\n  */\n  setIsBotPlaybackInterrupting(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsBotPlaybackInterrupting status not boolean', bool);\n      return;\n    }\n    state.botAudio.isInterrupting = bool;\n  },\n  /**\n  * used to set the setInterval Id for bot playback interruption\n  */\n  setBotPlaybackInterruptIntervalId(state, id) {\n    if (typeof id !== 'number') {\n      console.error('setIsBotPlaybackInterruptIntervalId id is not a number', id);\n      return;\n    }\n    state.botAudio.interruptIntervalId = id;\n  },\n\n  /***********************************************************************\n   *\n   * Lex and Polly Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * Updates Lex State from Lex responses\n   */\n  updateLexState(state, lexState) {\n    state.lex = { ...state.lex, ...lexState };\n  },\n  /**\n   * Sets the Lex session attributes\n   */\n  setLexSessionAttributes(state, sessionAttributes) {\n    if (typeof sessionAttributes !== 'object') {\n      console.error('sessionAttributes is not an object', sessionAttributes);\n      return;\n    }\n    state.lex.sessionAttributes = sessionAttributes;\n  },\n  /**\n  * set to true while calling lexPost{Text,Content}\n  * to mark as processing\n  */\n  setIsLexProcessing(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsLexProcessing status not boolean', bool);\n      return;\n    }\n    state.lex.isProcessing = bool;\n  },\n  /**\n  * set to true if lex is being interrupted while speaking\n  */\n  setIsLexInterrupting(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsLexInterrupting status not boolean', bool);\n      return;\n    }\n    state.lex.isInterrupting = bool;\n  },\n  /**\n   * Set the supported content types to be used with Lex/Polly\n   */\n  setAudioContentType(state, type) {\n    switch (type) {\n      case 'mp3':\n      case 'mpg':\n      case 'mpeg':\n        state.polly.outputFormat = 'mp3';\n        state.lex.acceptFormat = 'audio/mpeg';\n        break;\n      case 'ogg':\n      case 'ogg_vorbis':\n      case 'x-cbr-opus-with-preamble':\n      default:\n        state.polly.outputFormat = 'ogg_vorbis';\n        state.lex.acceptFormat = 'audio/ogg';\n        break;\n    }\n  },\n  /**\n   * Set the Polly voice to be used by the client\n   */\n  setPollyVoiceId(state, voiceId) {\n    if (typeof voiceId !== 'string') {\n      console.error('polly voiceId is not a string', voiceId);\n      return;\n    }\n    state.polly.voiceId = voiceId;\n  },\n\n  /***********************************************************************\n   *\n   * UI and General Mutations\n   *\n   **********************************************************************/\n\n  /**\n   * Merges the general config of the web ui\n   * with a dynamic config param and merges it with\n   * the existing config (e.g. initialized from ../config)\n   */\n  mergeConfig(state, config) {\n    if (typeof config !== 'object') {\n      console.error('config is not an object', config);\n      return;\n    }\n\n    // security: do not accept dynamic parentOrigin\n    const parentOrigin = (\n      state.config && state.config.ui &&\n      state.config.ui.parentOrigin\n    ) ?\n      state.config.ui.parentOrigin :\n      config.ui.parentOrigin || window.location.origin;\n    const configFiltered = {\n      ...config,\n      ...{ ui: { ...config.ui, parentOrigin } },\n    };\n    if (state.config && state.config.ui && state.config.ui.parentOrigin &&\n      config.ui && config.ui.parentOrigin &&\n      config.ui.parentOrigin !== state.config.ui.parentOrigin\n    ) {\n      console.warn('ignoring parentOrigin in config: ', config.ui.parentOrigin);\n    }\n    state.config = mergeConfig(state.config, configFiltered);\n  },\n  /**\n   * Set to true if running embedded in an iframe\n   */\n  setIsRunningEmbedded(state, bool) {\n    if (typeof bool !== 'boolean') {\n      console.error('setIsRunningEmbedded status not boolean', bool);\n      return;\n    }\n    state.isRunningEmbedded = bool;\n  },\n  /**\n  * used to track the expand/minimize status of the window when\n  * running embedded in an iframe\n  */\n  toggleIsUiMinimized(state) {\n    state.isUiMinimized = !state.isUiMinimized;\n  },\n  /**\n   * Push new message into messages array\n   */\n  pushMessage(state, message) {\n    state.messages.push({\n      id: state.messages.length,\n      date: new Date(),\n      ...message,\n    });\n  },\n  /**\n   * Set the AWS credentials provider\n   */\n  setAwsCredsProvider(state, provider) {\n    state.awsCreds.provider = provider;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","/*\nCopyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\nLicensed under the Amazon Software License (the \"License\"). You may not use this file\nexcept in compliance with the License. A copy of the License is located at\n\nhttp://aws.amazon.com/asl/\n\nor in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\nBASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\nLicense for the specific language governing permissions and limitations under the License.\n*/\n\n/**\n * Asynchronous store actions\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* eslint spaced-comment: [\"error\", \"always\", { \"exceptions\": [\"*\"] }] */\n\nimport LexAudioRecorder from '@/lib/lex/recorder';\nimport initRecorderHandlers from '@/store/recorder-handlers';\nimport silentOgg from '@/assets/silent.ogg';\nimport silentMp3 from '@/assets/silent.mp3';\n\nimport LexClient from '@/lib/lex/client';\n\n// non-state variables that may be mutated outside of store\n// set via initializers at run time\nlet awsCredentials;\nlet pollyClient;\nlet lexClient;\nlet audio;\nlet recorder;\n\nexport default {\n\n  /***********************************************************************\n   *\n   * Initialization Actions\n   *\n   **********************************************************************/\n\n  initCredentials(context, credentials) {\n    switch (context.state.awsCreds.provider) {\n      case 'cognito':\n        awsCredentials = credentials;\n        return context.dispatch('getCredentials');\n      case 'parentWindow':\n        return context.dispatch('getCredentials');\n      default:\n        return Promise.reject(new Error('unknown credential provider'));\n    }\n  },\n  getConfigFromParent(context) {\n    if (!context.state.isRunningEmbedded) {\n      return Promise.resolve({});\n    }\n\n    return context.dispatch(\n      'sendMessageToParentWindow',\n      { event: 'initIframeConfig' },\n    )\n      .then((configResponse) => {\n        if (configResponse.event === 'resolve' &&\n            configResponse.type === 'initIframeConfig') {\n          return Promise.resolve(configResponse.data);\n        }\n        return Promise.reject(new Error('invalid config event from parent'));\n      });\n  },\n  initConfig(context, configObj) {\n    context.commit('mergeConfig', configObj);\n  },\n  initMessageList(context) {\n    context.commit('pushMessage', {\n      type: 'bot',\n      text: context.state.config.lex.initialText,\n    });\n  },\n  initLexClient(context, lexRuntimeClient) {\n    lexClient = new LexClient({\n      botName: context.state.config.lex.botName,\n      botAlias: context.state.config.lex.botAlias,\n      lexRuntimeClient,\n    });\n\n    context.commit(\n      'setLexSessionAttributes',\n      context.state.config.lex.sessionAttributes,\n    );\n    return context.dispatch('getCredentials')\n      .then(() => lexClient.initCredentials(awsCredentials));\n  },\n  initPollyClient(context, client) {\n    if (!context.state.recState.isRecorderEnabled) {\n      return Promise.resolve();\n    }\n    pollyClient = client;\n    context.commit('setPollyVoiceId', context.state.config.polly.voiceId);\n    return context.dispatch('getCredentials')\n      .then((creds) => {\n        pollyClient.config.credentials = creds;\n      });\n  },\n  initRecorder(context) {\n    if (!context.state.config.recorder.enable) {\n      context.commit('setIsRecorderEnabled', false);\n      return Promise.resolve();\n    }\n    recorder = new LexAudioRecorder(context.state.config.recorder);\n\n    return recorder.init()\n      .then(() => recorder.initOptions(context.state.config.recorder))\n      .then(() => initRecorderHandlers(context, recorder))\n      .then(() => context.commit('setIsRecorderSupported', true))\n      .then(() => context.commit('setIsMicMuted', recorder.isMicMuted))\n      .catch((error) => {\n        if (['PermissionDeniedError', 'NotAllowedError'].indexOf(error.name)\n            >= 0) {\n          console.warn('get user media permission denied');\n          context.dispatch(\n            'pushErrorMessage',\n            'It seems like the microphone access has been denied. ' +\n            'If you want to use voice, please allow mic usage in your browser.',\n          );\n        } else {\n          console.error('error while initRecorder', error);\n        }\n      });\n  },\n  initBotAudio(context, audioElement) {\n    if (!context.state.recState.isRecorderEnabled ||\n        !context.state.config.recorder.enable\n    ) {\n      return Promise.resolve();\n    }\n    if (!audioElement) {\n      return Promise.reject(new Error('invalid audio element'));\n    }\n    audio = audioElement;\n\n    let silentSound;\n\n    // Ogg is the preferred format as it seems to be generally smaller.\n    // Detect if ogg is supported (MS Edge doesn't).\n    // Can't default to mp3 as it is not supported by some Android browsers\n    if (audio.canPlayType('audio/ogg') !== '') {\n      context.commit('setAudioContentType', 'ogg');\n      silentSound = silentOgg;\n    } else if (audio.canPlayType('audio/mp3') !== '') {\n      context.commit('setAudioContentType', 'mp3');\n      silentSound = silentMp3;\n    } else {\n      console.error('init audio could not find supportted audio type');\n      console.warn(\n        'init audio can play mp3 [%s]',\n        audio.canPlayType('audio/mp3'),\n      );\n      console.warn(\n        'init audio can play ogg [%s]',\n        audio.canPlayType('audio/ogg'),\n      );\n    }\n\n    console.info('recorder content types: %s', recorder.mimeType);\n\n    audio.preload = 'auto';\n    // Load a silent sound as the initial audio. This is used to workaround\n    // the requirement of mobile browsers that would only play a\n    // sound in direct response to a user action (e.g. click).\n    // This audio should be explicitly played as a response to a click\n    // in the UI\n    audio.src = silentSound;\n    // autoplay will be set as a response to a clik\n    audio.autoplay = false;\n\n    return Promise.resolve();\n  },\n  reInitBot(context) {\n    return Promise.resolve()\n      .then(() => (\n        (context.state.config.ui.pushInitialTextOnRestart) ?\n          context.dispatch('pushMessage', {\n            text: context.state.config.lex.initialText,\n            type: 'bot',\n          }) :\n          Promise.resolve()\n      ))\n      .then(() => (\n        (context.state.config.lex.reInitSessionAttributesOnRestart) ?\n          context.commit(\n            'setLexSessionAttributes',\n            context.state.config.lex.sessionAttributes,\n          ) :\n          Promise.resolve()\n      ));\n  },\n\n  /***********************************************************************\n   *\n   * Audio Actions\n   *\n   **********************************************************************/\n\n  getAudioUrl(context, blob) {\n    let url;\n\n    try {\n      url = URL.createObjectURL(blob);\n    } catch (err) {\n      console.error('getAudioUrl createObjectURL error', err);\n      const errorMessage = 'There was an error processing the audio ' +\n        `response: (${err})`;\n      const error = new Error(errorMessage);\n      return Promise.reject(error);\n    }\n\n    return Promise.resolve(url);\n  },\n  setAudioAutoPlay(context) {\n    if (audio.autoplay) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      audio.play();\n      // eslint-disable-next-line no-param-reassign\n      audio.onended = () => {\n        context.commit('setAudioAutoPlay', { audio, status: true });\n        resolve();\n      };\n      // eslint-disable-next-line no-param-reassign\n      audio.onerror = (err) => {\n        context.commit('setAudioAutoPlay', { audio, status: false });\n        reject(new Error(`setting audio autoplay failed: ${err}`));\n      };\n    });\n  },\n  playAudio(context, url) {\n    return new Promise((resolve) => {\n      audio.onloadedmetadata = () => {\n        context.commit('setIsBotSpeaking', true);\n        context.dispatch('playAudioHandler')\n          .then(() => resolve());\n      };\n      audio.src = url;\n    });\n  },\n  playAudioHandler(context) {\n    return new Promise((resolve, reject) => {\n      const { enablePlaybackInterrupt } = context.state.config.lex;\n\n      const clearPlayback = () => {\n        context.commit('setIsBotSpeaking', false);\n        const intervalId = context.state.botAudio.interruptIntervalId;\n        if (intervalId && enablePlaybackInterrupt) {\n          clearInterval(intervalId);\n          context.commit('setBotPlaybackInterruptIntervalId', 0);\n          context.commit('setIsLexInterrupting', false);\n          context.commit('setCanInterruptBotPlayback', false);\n          context.commit('setIsBotPlaybackInterrupting', false);\n        }\n      };\n\n      audio.onerror = (error) => {\n        clearPlayback();\n        reject(new Error(`There was an error playing the response (${error})`));\n      };\n      audio.onended = () => {\n        clearPlayback();\n        resolve();\n      };\n      audio.onpause = audio.onended;\n\n      if (enablePlaybackInterrupt) {\n        context.dispatch('playAudioInterruptHandler');\n      }\n    });\n  },\n  playAudioInterruptHandler(context) {\n    const { isSpeaking } = context.state.botAudio;\n    const {\n      enablePlaybackInterrupt,\n      playbackInterruptMinDuration,\n      playbackInterruptVolumeThreshold,\n      playbackInterruptLevelThreshold,\n      playbackInterruptNoiseThreshold,\n    } = context.state.config.lex;\n    const intervalTimeInMs = 200;\n\n    if (!enablePlaybackInterrupt &&\n        !isSpeaking &&\n        context.state.lex.isInterrupting &&\n        audio.duration < playbackInterruptMinDuration\n    ) {\n      return;\n    }\n\n    const intervalId = setInterval(() => {\n      const { duration } = audio;\n      const end = audio.played.end(0);\n      const { canInterrupt } = context.state.botAudio;\n\n      if (!canInterrupt &&\n          // allow to be interrupt free in the beginning\n          end > playbackInterruptMinDuration &&\n          // don't interrupt towards the end\n          (duration - end) > 0.5 &&\n          // only interrupt if the volume seems to be low noise\n          recorder.volume.max < playbackInterruptNoiseThreshold\n      ) {\n        context.commit('setCanInterruptBotPlayback', true);\n      } else if (canInterrupt && (duration - end) < 0.5) {\n        context.commit('setCanInterruptBotPlayback', false);\n      }\n\n      if (canInterrupt &&\n          recorder.volume.max > playbackInterruptVolumeThreshold &&\n          recorder.volume.slow > playbackInterruptLevelThreshold\n      ) {\n        clearInterval(intervalId);\n        context.commit('setIsBotPlaybackInterrupting', true);\n        setTimeout(() => {\n          audio.pause();\n        }, 500);\n      }\n    }, intervalTimeInMs);\n\n    context.commit('setBotPlaybackInterruptIntervalId', intervalId);\n  },\n  getAudioProperties() {\n    return (audio) ?\n      {\n        currentTime: audio.currentTime,\n        duration: audio.duration,\n        end: (audio.played.length >= 1) ?\n          audio.played.end(0) : audio.duration,\n        ended: audio.ended,\n        paused: audio.paused,\n      } :\n      {};\n  },\n\n  /***********************************************************************\n   *\n   * Recorder Actions\n   *\n   **********************************************************************/\n\n  startConversation(context) {\n    context.commit('setIsConversationGoing', true);\n    return context.dispatch('startRecording');\n  },\n  stopConversation(context) {\n    context.commit('setIsConversationGoing', false);\n  },\n  startRecording(context) {\n    // don't record if muted\n    if (context.state.recState.isMicMuted === true) {\n      console.warn('recording while muted');\n      context.dispatch('stopConversation');\n      return Promise.reject(new Error('The microphone seems to be muted.'));\n    }\n\n    context.commit('startRecording', recorder);\n    return Promise.resolve();\n  },\n  stopRecording(context) {\n    context.commit('stopRecording', recorder);\n  },\n  getRecorderVolume(context) {\n    if (!context.state.recState.isRecorderEnabled) {\n      return Promise.resolve();\n    }\n    return recorder.volume;\n  },\n\n  /***********************************************************************\n   *\n   * Lex and Polly Actions\n   *\n   **********************************************************************/\n\n  pollyGetBlob(context, text, format = 'text') {\n    const synthReq = pollyClient.synthesizeSpeech({\n      Text: text,\n      VoiceId: context.state.polly.voiceId,\n      OutputFormat: context.state.polly.outputFormat,\n      TextType: format,\n    });\n    return context.dispatch('getCredentials')\n      .then(() => synthReq.promise())\n      .then((data) => {\n        const blob = new Blob([data.AudioStream], { type: data.ContentType });\n        return Promise.resolve(blob);\n      });\n  },\n  pollySynthesizeSpeech(context, text, format = 'text') {\n    return context.dispatch('pollyGetBlob', text, format)\n      .then(blob => context.dispatch('getAudioUrl', blob))\n      .then(audioUrl => context.dispatch('playAudio', audioUrl));\n  },\n  interruptSpeechConversation(context) {\n    if (!context.state.recState.isConversationGoing &&\n        !context.state.botAudio.isSpeaking\n    ) {\n      return Promise.resolve();\n    }\n\n    return new Promise((resolve, reject) => {\n      context.dispatch('stopConversation')\n        .then(() => context.dispatch('stopRecording'))\n        .then(() => {\n          if (context.state.botAudio.isSpeaking) {\n            audio.pause();\n          }\n        })\n        .then(() => {\n          let count = 0;\n          const countMax = 20;\n          const intervalTimeInMs = 250;\n          context.commit('setIsLexInterrupting', true);\n          const intervalId = setInterval(() => {\n            if (!context.state.lex.isProcessing) {\n              clearInterval(intervalId);\n              context.commit('setIsLexInterrupting', false);\n              resolve();\n            }\n            if (count > countMax) {\n              clearInterval(intervalId);\n              context.commit('setIsLexInterrupting', false);\n              reject(new Error('interrupt interval exceeded'));\n            }\n            count += 1;\n          }, intervalTimeInMs);\n        });\n    });\n  },\n  postTextMessage(context, message) {\n    return context.dispatch('interruptSpeechConversation')\n      .then(() => context.dispatch('pushMessage', message))\n      .then(() => context.dispatch('lexPostText', message.text))\n      .then(response => context.dispatch(\n        'pushMessage',\n        {\n          text: response.message,\n          type: 'bot',\n          dialogState: context.state.lex.dialogState,\n          responseCard: context.state.lex.responseCard,\n        },\n      ))\n      .then(() => {\n        if (context.state.lex.dialogState === 'Fulfilled') {\n          context.dispatch('reInitBot');\n        }\n      })\n      .catch((error) => {\n        const errorMessage = (context.state.config.ui.showErrorDetails) ?\n          ` ${error}` : '';\n        console.error('error in postTextMessage', error);\n        context.dispatch(\n          'pushErrorMessage',\n          'Sorry, I was unable to process your message. Try again later.' +\n          `${errorMessage}`,\n        );\n      });\n  },\n  lexPostText(context, text) {\n    context.commit('setIsLexProcessing', true);\n    return context.dispatch('getCredentials')\n      .then(() => lexClient.postText(text, context.state.lex.sessionAttributes))\n      .then((data) => {\n        context.commit('setIsLexProcessing', false);\n        return context.dispatch('updateLexState', data)\n          .then(() => Promise.resolve(data));\n      })\n      .catch((error) => {\n        context.commit('setIsLexProcessing', false);\n        throw error;\n      });\n  },\n  lexPostContent(context, audioBlob, offset = 0) {\n    context.commit('setIsLexProcessing', true);\n    console.info('audio blob size:', audioBlob.size);\n    let timeStart;\n\n    return context.dispatch('getCredentials')\n      .then(() => {\n        timeStart = performance.now();\n        return lexClient.postContent(\n          audioBlob,\n          context.state.lex.sessionAttributes,\n          context.state.lex.acceptFormat,\n          offset,\n        );\n      })\n      .then((lexResponse) => {\n        const timeEnd = performance.now();\n        console.info(\n          'lex postContent processing time:',\n          ((timeEnd - timeStart) / 1000).toFixed(2),\n        );\n        context.commit('setIsLexProcessing', false);\n        return context.dispatch('updateLexState', lexResponse)\n          .then(() => (\n            context.dispatch('processLexContentResponse', lexResponse)\n          ))\n          .then(blob => Promise.resolve(blob));\n      })\n      .catch((error) => {\n        context.commit('setIsLexProcessing', false);\n        throw error;\n      });\n  },\n  processLexContentResponse(context, lexData) {\n    const { audioStream, contentType, dialogState } = lexData;\n\n    return Promise.resolve()\n      .then(() => {\n        if (!audioStream || !audioStream.length) {\n          const text = (dialogState === 'ReadyForFulfillment') ?\n            'All done' :\n            'There was an error';\n          return context.dispatch('pollyGetBlob', text);\n        }\n\n        return Promise.resolve(new Blob([audioStream], { type: contentType }));\n      });\n  },\n  updateLexState(context, lexState) {\n    const lexStateDefault = {\n      dialogState: '',\n      inputTranscript: '',\n      intentName: '',\n      message: '',\n      responseCard: null,\n      sessionAttributes: {},\n      slotToElicit: '',\n      slots: {},\n    };\n    // simulate response card in sessionAttributes\n    // used mainly for postContent which doesn't support response cards\n    if ('sessionAttributes' in lexState &&\n      'appContext' in lexState.sessionAttributes\n    ) {\n      try {\n        const appContext = JSON.parse(lexState.sessionAttributes.appContext);\n        if ('responseCard' in appContext) {\n          lexStateDefault.responseCard =\n            appContext.responseCard;\n        }\n      } catch (e) {\n        const error =\n          new Error(`error parsing appContext in sessionAttributes: ${e}`);\n        return Promise.reject(error);\n      }\n    }\n    context.commit('updateLexState', { ...lexStateDefault, ...lexState });\n    if (context.state.isRunningEmbedded) {\n      context.dispatch(\n        'sendMessageToParentWindow',\n        { event: 'updateLexState', state: context.state.lex },\n      );\n    }\n    return Promise.resolve();\n  },\n\n  /***********************************************************************\n   *\n   * Message List Actions\n   *\n   **********************************************************************/\n\n  pushMessage(context, message) {\n    context.commit('pushMessage', message);\n  },\n  pushErrorMessage(context, text, dialogState = 'Failed') {\n    context.commit('pushMessage', {\n      type: 'bot',\n      text,\n      dialogState,\n    });\n  },\n\n  /***********************************************************************\n   *\n   * Credentials Actions\n   *\n   **********************************************************************/\n\n  getCredentialsFromParent(context) {\n    const expireTime = (awsCredentials && awsCredentials.expireTime) ?\n      awsCredentials.expireTime : 0;\n    const credsExpirationDate = new Date(expireTime);\n    const now = Date.now();\n    if (credsExpirationDate > now) {\n      return Promise.resolve(awsCredentials);\n    }\n    return context.dispatch('sendMessageToParentWindow', { event: 'getCredentials' })\n      .then((credsResponse) => {\n        if (credsResponse.event === 'resolve' &&\n            credsResponse.type === 'getCredentials') {\n          return Promise.resolve(credsResponse.data);\n        }\n        const error = new Error('invalid credential event from parent');\n        return Promise.reject(error);\n      })\n      .then((creds) => {\n        const { AccessKeyId, SecretKey, SessionToken } = creds.data.Credentials;\n        const { IdentityId } = creds.data;\n        // recreate as a static credential\n        awsCredentials = {\n          accessKeyId: AccessKeyId,\n          secretAccessKey: SecretKey,\n          sessionToken: SessionToken,\n          identityId: IdentityId,\n          expired: false,\n          getPromise() { return Promise.resolve(awsCredentials); },\n        };\n\n        return awsCredentials;\n      });\n  },\n  getCredentials(context) {\n    if (context.state.awsCreds.provider === 'parentWindow') {\n      return context.dispatch('getCredentialsFromParent');\n    }\n    return awsCredentials.getPromise()\n      .then(() => awsCredentials);\n  },\n\n  /***********************************************************************\n   *\n   * UI and Parent Communication Actions\n   *\n   **********************************************************************/\n\n  toggleIsUiMinimized(context) {\n    context.commit('toggleIsUiMinimized');\n    return context.dispatch(\n      'sendMessageToParentWindow',\n      { event: 'toggleMinimizeUi' },\n    );\n  },\n  sendMessageToParentWindow(context, message) {\n    if (!context.state.isRunningEmbedded) {\n      const error = 'sendMessage called when not running embedded';\n      console.warn(error);\n      return Promise.reject(error);\n    }\n\n    return new Promise((resolve, reject) => {\n      const messageChannel = new MessageChannel();\n      messageChannel.port1.onmessage = (evt) => {\n        messageChannel.port1.close();\n        messageChannel.port2.close();\n        if (evt.data.event === 'resolve') {\n          resolve(evt.data);\n        } else {\n          const errorMessage =\n            `error in sendMessageToParentWindow: ${evt.data.error}`;\n          reject(new Error(errorMessage));\n        }\n      };\n      window.parent.postMessage(\n        message,\n        context.state.config.ui.parentOrigin,\n        [messageChannel.port2],\n      );\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\"] }] */\n/* global AudioContext CustomEvent document Event navigator window */\n\n// wav encoder worker - uses webpack worker loader\nimport WavWorker from './wav-worker';\n\n/**\n * Lex Recorder Module\n * Based on Recorderjs. It sort of mimics the MediaRecorder API.\n * @see {@link https://github.com/mattdiamond/Recorderjs}\n * @see {@https://github.com/chris-rudmin/Recorderjs}\n * @see {@https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder}\n */\n\n/**\n * Class for Lex audio recording management.\n *\n * This class is used for microphone initialization and recording\n * management. It encodes the mic input into wav format.\n * It also monitors the audio input stream (e.g keeping track of volume)\n * filtered around human voice speech frequencies to look for silence\n */\nexport default class {\n  /* eslint no-underscore-dangle: [\"error\", { \"allowAfterThis\": true }] */\n\n  /**\n   * Constructs the recorder object\n   *\n   * @param {object} - options object\n   *\n   * @param {string} options.mimeType - Mime type to use on recording.\n   *   Only 'audio/wav' is supported for now. Default: 'aduio/wav'.\n   *\n   * @param {boolean} options.autoStopRecording -  Controls if the recording\n   *   should automatically stop on silence detection. Default: true.\n   *\n   * @param {number} options.recordingTimeMax - Maximum recording time in\n   *   seconds. Recording will stop after going for this long. Default: 8.\n   *\n   * @param {number} options.recordingTimeMin - Minimum recording time in\n   *   seconds. Used before evaluating if the line is quiet to allow initial\n   *   pauses before speech. Default: 2.\n   *\n   * @param {boolean} options.recordingTimeMinAutoIncrease - Controls if the\n   *   recordingTimeMin should be automatically increased (exponentially)\n   *   based on the number of consecutive silent recordings.\n   *   Default: true.\n   *\n   * @param {number} options.quietThreshold - Threshold of mic input level\n   *   to consider quiet. Used to determine pauses in input this is measured\n   *   using the \"slow\" mic volume. Default: 0.001.\n   *\n   * @param {number} options.quietTimeMin - Minimum mic quiet time (normally in\n   *   fractions of a second) before automatically stopping the recording when\n   *   autoStopRecording is true. In reality it takes a bit more time than this\n   *   value given that the slow volume value is a decay. Reasonable times seem\n   *   to be between 0.2 and 0.5. Default: 0.4.\n   *\n   * @param {number} options.volumeThreshold - Threshold of mic db level\n   *   to consider quiet. Used to determine pauses in input this is measured\n   *   using the \"max\" mic volume. Smaller values make the recorder auto stop\n   *   faster. Default: -75\n   *\n   * @param {bool} options.useBandPass - Controls if a band pass filter is used\n   *   for the microphone input. If true, the input is passed through a second\n   *   order bandpass filter using AudioContext.createBiquadFilter:\n   *   https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createBiquadFilter\n   *   The bandpass filter helps to reduce noise, improve silence detection and\n   *   produce smaller audio blobs. However, it may produce audio with lower\n   *   fidelity. Default: true\n   *\n   * @param {number} options.bandPassFrequency - Frequency of bandpass filter in\n   *   Hz. Mic input is passed through a second order bandpass filter to remove\n   *   noise and improve quality/speech silence detection. Reasonable values\n   *   should be around 3000 - 5000. Default: 4000.\n   *\n   * @param {number} options.bandPassQ - Q factor of bandpass filter.\n   *   The higher the vaue, the narrower the pass band and steeper roll off.\n   *   Reasonable values should be between 0.5 and 1.5. Default: 0.707\n   *\n   * @param {number} options.bufferLength - Length of buffer used in audio\n   *   processor. Should be in powers of two between 512 to 8196. Passed to\n   *   script processor and audio encoder. Lower values have lower latency.\n   *   Default: 2048.\n   *\n   * @param {number} options.numChannels- Number of channels to record.\n   *   Default: 1 (mono).\n   *\n   * @param {number} options.requestEchoCancellation - Request to use echo\n   *   cancellation in the getUserMedia call:\n   *   https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints/echoCancellation\n   *   Default: true.\n   *\n   * @param {bool} options.useAutoMuteDetect - Controls if the recorder utilizes\n   *   automatic mute detection.\n   *   Default: true.\n   *\n   * @param {number} options.muteThreshold - Threshold level when mute values\n   *   are detected when useAutoMuteDetect is enabled. The higher the faster\n   *   it reports the mic to be in a muted state but may cause it to flap\n   *   between mute/unmute. The lower the values the slower it is to report\n   *   the mic as mute. Too low of a value may cause it to never report the\n   *   line as muted. Works in conjuction with options.quietTreshold.\n   *   Reasonable values seem to be between: 1e-5 and 1e-8. Default: 1e-7.\n   *\n   * @param {bool} options.encoderUseTrim - Controls if the encoder should\n   *   attempt to trim quiet samples from the beginning and end of the buffer\n   *   Default: true.\n   *\n   * @param {number} options.encoderQuietTrimThreshold - Threshold when quiet\n   *   levels are detected. Only applicable when encoderUseTrim is enabled. The\n   *   encoder will trim samples below this value at the beginnig and end of the\n   *   buffer. Lower value trim less silence resulting in larger WAV files.\n   *   Reasonable values seem to be between 0.005 and 0.0005. Default: 0.0008.\n   *\n   * @param {number} options.encoderQuietTrimSlackBack - How many samples to\n   *   add back to the encoded buffer before/after the\n   *   encoderQuietTrimThreshold. Higher values trim less silence resulting in\n   *   larger WAV files.\n   *   Reasonable values seem to be between 3500 and 5000. Default: 4000.\n   */\n  constructor(options = {}) {\n    this.initOptions(options);\n\n    // event handler used for events similar to MediaRecorder API (e.g. onmute)\n    this._eventTarget = document.createDocumentFragment();\n\n    // encoder worker\n    this._encoderWorker = new WavWorker();\n\n    // worker uses this event listener to signal back\n    // when wav has finished encoding\n    this._encoderWorker.addEventListener(\n      'message',\n      evt => this._exportWav(evt.data),\n    );\n  }\n\n  /**\n   * Initialize general recorder options\n   *\n   * @param {object} options - object with various options controlling the\n   *   recorder behavior. See the constructor for details.\n   */\n  initOptions(options = {}) {\n    // TODO break this into functions, avoid side-effects, break into this.options.*\n    if (options.preset) {\n      Object.assign(options, this._getPresetOptions(options.preset));\n    }\n\n    this.mimeType = options.mimeType || 'audio/wav';\n\n    this.recordingTimeMax = options.recordingTimeMax || 8;\n    this.recordingTimeMin = options.recordingTimeMin || 2;\n    this.recordingTimeMinAutoIncrease =\n      (typeof options.recordingTimeMinAutoIncrease !== 'undefined') ?\n        !!options.recordingTimeMinAutoIncrease :\n        true;\n\n    // speech detection configuration\n    this.autoStopRecording =\n      (typeof options.autoStopRecording !== 'undefined') ?\n        !!options.autoStopRecording :\n        true;\n    this.quietThreshold = options.quietThreshold || 0.001;\n    this.quietTimeMin = options.quietTimeMin || 0.4;\n    this.volumeThreshold = options.volumeThreshold || -75;\n\n    // band pass configuration\n    this.useBandPass =\n      (typeof options.useBandPass !== 'undefined') ?\n        !!options.useBandPass :\n        true;\n    // https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode\n    this.bandPassFrequency = options.bandPassFrequency || 4000;\n    // Butterworth 0.707 [sqrt(1/2)]  | Chebyshev < 1.414\n    this.bandPassQ = options.bandPassQ || 0.707;\n\n    // parameters passed to script processor and also used in encoder\n    // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createScriptProcessor\n    this.bufferLength = options.bufferLength || 2048;\n    this.numChannels = options.numChannels || 1;\n\n    this.requestEchoCancellation =\n      (typeof options.requestEchoCancellation !== 'undefined') ?\n        !!options.requestEchoCancellation :\n        true;\n\n    // automatic mute detection options\n    this.useAutoMuteDetect =\n      (typeof options.useAutoMuteDetect !== 'undefined') ?\n        !!options.useAutoMuteDetect :\n        true;\n    this.muteThreshold = options.muteThreshold || 1e-7;\n\n    // encoder options\n    this.encoderUseTrim =\n      (typeof options.encoderUseTrim !== 'undefined') ?\n        !!options.encoderUseTrim :\n        true;\n    this.encoderQuietTrimThreshold =\n      options.encoderQuietTrimThreshold || 0.0008;\n    this.encoderQuietTrimSlackBack = options.encoderQuietTrimSlackBack || 4000;\n  }\n\n  _getPresetOptions(preset = 'low_latency') {\n    this._presets = ['low_latency', 'speech_recognition'];\n\n    if (this._presets.indexOf(preset) === -1) {\n      console.error('invalid preset');\n      return {};\n    }\n\n    const presets = {\n      low_latency: {\n        encoderUseTrim: true,\n        useBandPass: true,\n      },\n      speech_recognition: {\n        encoderUseTrim: false,\n        useBandPass: false,\n        useAutoMuteDetect: false,\n      },\n    };\n\n    return presets[preset];\n  }\n\n  /**\n   * General init. This function should be called to initialize the recorder.\n   *\n   * @param {object} options - Optional parameter to reinitialize the\n   *   recorder behavior. See the constructor for details.\n   *\n   * @return {Promise} - Returns a promise that resolves when the recorder is\n   *   ready.\n   */\n  init() {\n    this._state = 'inactive';\n\n    this._instant = 0.0;\n    this._slow = 0.0;\n    this._clip = 0.0;\n    this._maxVolume = -Infinity;\n\n    this._isMicQuiet = true;\n    this._isMicMuted = false;\n\n    this._isSilentRecording = true;\n    this._silentRecordingConsecutiveCount = 0;\n\n    // sets this._audioContext AudioContext object\n    return this._initAudioContext()\n      // inits AudioContext.createScriptProcessor object\n      // used to process mic audio input volume\n      // sets this._micVolumeProcessor\n      .then(() => this._initMicVolumeProcessor())\n      .then(() => this._initStream());\n  }\n\n  /**\n   * Start recording\n   */\n  start() {\n    if (this._state !== 'inactive' ||\n      typeof this._stream === 'undefined') {\n      console.warn('recorder start called out of state');\n      return;\n    }\n\n    this._state = 'recording';\n\n    this._recordingStartTime = this._audioContext.currentTime;\n    this._eventTarget.dispatchEvent(new Event('start'));\n\n    this._encoderWorker.postMessage({\n      command: 'init',\n      config: {\n        sampleRate: this._audioContext.sampleRate,\n        numChannels: this.numChannels,\n        useTrim: this.encoderUseTrim,\n        quietTrimThreshold: this.encoderQuietTrimThreshold,\n        quietTrimSlackBack: this.encoderQuietTrimSlackBack,\n      },\n    });\n  }\n\n  /**\n   * Stop recording\n   */\n  stop() {\n    if (this._state !== 'recording') {\n      console.warn('recorder stop called out of state');\n      return;\n    }\n\n    if (this._recordingStartTime > this._quietStartTime) {\n      this._isSilentRecording = true;\n      this._silentRecordingConsecutiveCount += 1;\n      this._eventTarget.dispatchEvent(new Event('silentrecording'));\n    } else {\n      this._isSilentRecording = false;\n      this._silentRecordingConsecutiveCount = 0;\n      this._eventTarget.dispatchEvent(new Event('unsilentrecording'));\n    }\n\n    this._state = 'inactive';\n    this._recordingStartTime = 0;\n\n    this._encoderWorker.postMessage({\n      command: 'exportWav',\n      type: 'audio/wav',\n    });\n\n    this._eventTarget.dispatchEvent(new Event('stop'));\n  }\n\n  _exportWav(evt) {\n    const event = new CustomEvent('dataavailable', { detail: evt.data });\n    this._eventTarget.dispatchEvent(event);\n    this._encoderWorker.postMessage({ command: 'clear' });\n  }\n\n  _recordBuffers(inputBuffer) {\n    if (this._state !== 'recording') {\n      console.warn('recorder _recordBuffers called out of state');\n      return;\n    }\n    const buffer = [];\n    for (let i = 0; i < inputBuffer.numberOfChannels; i++) {\n      buffer[i] = inputBuffer.getChannelData(i);\n    }\n\n    this._encoderWorker.postMessage({\n      command: 'record',\n      buffer,\n    });\n  }\n\n  _setIsMicMuted() {\n    if (!this.useAutoMuteDetect) {\n      return;\n    }\n    // TODO incorporate _maxVolume\n    if (this._instant >= this.muteThreshold) {\n      if (this._isMicMuted) {\n        this._isMicMuted = false;\n        this._eventTarget.dispatchEvent(new Event('unmute'));\n      }\n      return;\n    }\n\n    if (!this._isMicMuted && (this._slow < this.muteThreshold)) {\n      this._isMicMuted = true;\n      this._eventTarget.dispatchEvent(new Event('mute'));\n      console.info(\n        'mute - instant: %s - slow: %s - track muted: %s',\n        this._instant, this._slow, this._tracks[0].muted,\n      );\n\n      if (this._state === 'recording') {\n        this.stop();\n        console.info('stopped recording on _setIsMicMuted');\n      }\n    }\n  }\n\n  _setIsMicQuiet() {\n    const now = this._audioContext.currentTime;\n\n    const isMicQuiet = (this._maxVolume < this.volumeThreshold ||\n      this._slow < this.quietThreshold);\n\n    // start record the time when the line goes quiet\n    // fire event\n    if (!this._isMicQuiet && isMicQuiet) {\n      this._quietStartTime = this._audioContext.currentTime;\n      this._eventTarget.dispatchEvent(new Event('quiet'));\n    }\n    // reset quiet timer when there's enough sound\n    if (this._isMicQuiet && !isMicQuiet) {\n      this._quietStartTime = 0;\n      this._eventTarget.dispatchEvent(new Event('unquiet'));\n    }\n    this._isMicQuiet = isMicQuiet;\n\n    // if autoincrease is enabled, exponentially increase the mimimun recording\n    // time based on consecutive silent recordings\n    const recordingTimeMin =\n      (this.recordingTimeMinAutoIncrease) ?\n        (this.recordingTimeMin - 1) +\n        (this.recordingTimeMax **\n         (1 - (1 / (this._silentRecordingConsecutiveCount + 1)))) :\n        this.recordingTimeMin;\n\n    // detect voice pause and stop recording\n    if (this.autoStopRecording &&\n      this._isMicQuiet && this._state === 'recording' &&\n      // have I been recording longer than the minimum recording time?\n      now - this._recordingStartTime > recordingTimeMin &&\n      // has the slow sample value been below the quiet threshold longer than\n      // the minimum allowed quiet time?\n      now - this._quietStartTime > this.quietTimeMin\n    ) {\n      this.stop();\n    }\n  }\n\n  /**\n   * Initializes the AudioContext\n   * Aassigs it to this._audioContext. Adds visibitily change event listener\n   * to suspend the audio context when the browser tab is hidden.\n   * @return {Promise} resolution of AudioContext\n   */\n  _initAudioContext() {\n    window.AudioContext = window.AudioContext || window.webkitAudioContext;\n    if (!window.AudioContext) {\n      return Promise.reject(new Error('Web Audio API not supported.'));\n    }\n    this._audioContext = new AudioContext();\n    document.addEventListener('visibilitychange', () => {\n      console.info('visibility change triggered in recorder. hidden:', document.hidden);\n      if (document.hidden) {\n        this._audioContext.suspend();\n      } else {\n        this._audioContext.resume();\n      }\n    });\n    return Promise.resolve();\n  }\n\n  /**\n   * Private initializer of the audio buffer processor\n   * It manages the volume variables and sends the buffers to the worker\n   * when recording.\n   * Some of this came from:\n   * https://webrtc.github.io/samples/src/content/getusermedia/volume/js/soundmeter.js\n   */\n  _initMicVolumeProcessor() {\n    /* eslint no-plusplus: [\"error\", { \"allowForLoopAfterthoughts\": true }] */\n    // assumes a single channel - XXX does it need to handle 2 channels?\n    const processor = this._audioContext.createScriptProcessor(\n      this.bufferLength,\n      this.numChannels,\n      this.numChannels,\n    );\n    processor.onaudioprocess = (evt) => {\n      if (this._state === 'recording') {\n        // send buffers to worker\n        this._recordBuffers(evt.inputBuffer);\n\n        // stop recording if over the maximum time\n        if ((this._audioContext.currentTime - this._recordingStartTime)\n          > this.recordingTimeMax\n        ) {\n          console.warn('stopped recording due to maximum time');\n          this.stop();\n        }\n      }\n\n      // XXX assumes mono channel\n      const input = evt.inputBuffer.getChannelData(0);\n      let sum = 0.0;\n      let clipCount = 0;\n      for (let i = 0; i < input.length; ++i) {\n        // square to calculate signal power\n        sum += input[i] * input[i];\n        if (Math.abs(input[i]) > 0.99) {\n          clipCount += 1;\n        }\n      }\n      this._instant = Math.sqrt(sum / input.length);\n      this._slow = (0.95 * this._slow) + (0.05 * this._instant);\n      this._clip = (input.length) ? clipCount / input.length : 0;\n\n      this._setIsMicMuted();\n      this._setIsMicQuiet();\n\n      this._analyser.getFloatFrequencyData(this._analyserData);\n      this._maxVolume = Math.max(...this._analyserData);\n    };\n\n    this._micVolumeProcessor = processor;\n    return Promise.resolve();\n  }\n\n  /*\n   * Private initializers\n   */\n\n  /**\n   * Sets microphone using getUserMedia\n   * @return {Promise} returns a promise that resolves when the audio input\n   *   has been connected\n   */\n  _initStream() {\n    // TODO obtain with navigator.mediaDevices.getSupportedConstraints()\n    const constraints = {\n      audio: {\n        optional: [{\n          echoCancellation: this.requestEchoCancellation,\n        }],\n      },\n    };\n\n    return navigator.mediaDevices.getUserMedia(constraints)\n      .then((stream) => {\n        this._stream = stream;\n\n        this._tracks = stream.getAudioTracks();\n        console.info('using media stream track labeled: ', this._tracks[0].label);\n        // assumes single channel\n        this._tracks[0].onmute = this._setIsMicMuted;\n        this._tracks[0].onunmute = this._setIsMicMuted;\n\n        const source = this._audioContext.createMediaStreamSource(stream);\n        const gainNode = this._audioContext.createGain();\n        const analyser = this._audioContext.createAnalyser();\n\n        if (this.useBandPass) {\n          // bandpass filter around human voice\n          // https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode\n          const biquadFilter = this._audioContext.createBiquadFilter();\n          biquadFilter.type = 'bandpass';\n\n          biquadFilter.frequency.value = this.bandPassFrequency;\n          biquadFilter.gain.Q = this.bandPassQ;\n\n          source.connect(biquadFilter);\n          biquadFilter.connect(gainNode);\n          analyser.smoothingTimeConstant = 0.5;\n        } else {\n          source.connect(gainNode);\n          analyser.smoothingTimeConstant = 0.9;\n        }\n        analyser.fftSize = this.bufferLength;\n        analyser.minDecibels = -90;\n        analyser.maxDecibels = -30;\n\n        gainNode.connect(analyser);\n        analyser.connect(this._micVolumeProcessor);\n        this._analyserData = new Float32Array(analyser.frequencyBinCount);\n        this._analyser = analyser;\n\n        this._micVolumeProcessor.connect(this._audioContext.destination);\n\n        this._eventTarget.dispatchEvent(new Event('streamReady'));\n      });\n  }\n\n  /*\n   * getters used to expose internal vars while avoiding issues when using with\n   * a reactive store (e.g. vuex).\n   */\n\n  /**\n   * Getter of recorder state. Based on MediaRecorder API.\n   * @return {string} state of recorder (inactive | recording | paused)\n   */\n  get state() {\n    return this._state;\n  }\n\n  /**\n   * Getter of stream object. Based on MediaRecorder API.\n   * @return {MediaStream} media stream object obtain from getUserMedia\n   */\n  get stream() {\n    return this._stream;\n  }\n\n  get isMicQuiet() {\n    return this._isMicQuiet;\n  }\n\n  get isMicMuted() {\n    return this._isMicMuted;\n  }\n\n  get isSilentRecording() {\n    return this._isSilentRecording;\n  }\n\n  get isRecording() {\n    return (this._state === 'recording');\n  }\n\n  /**\n  * Getter of mic volume levels.\n  * instant: root mean square of levels in buffer\n  * slow: time decaying level\n  * clip: count of samples at the top of signals (high noise)\n  */\n  get volume() {\n    return ({\n      instant: this._instant,\n      slow: this._slow,\n      clip: this._clip,\n      max: this._maxVolume,\n    });\n  }\n\n  /*\n   * Private initializer of event target\n   * Set event handlers that mimic MediaRecorder events plus others\n   */\n\n  // TODO make setters replace the listener insted of adding\n  set onstart(cb) {\n    this._eventTarget.addEventListener('start', cb);\n  }\n  set onstop(cb) {\n    this._eventTarget.addEventListener('stop', cb);\n  }\n  set ondataavailable(cb) {\n    this._eventTarget.addEventListener('dataavailable', cb);\n  }\n  set onerror(cb) {\n    this._eventTarget.addEventListener('error', cb);\n  }\n  set onstreamready(cb) {\n    this._eventTarget.addEventListener('streamready', cb);\n  }\n  set onmute(cb) {\n    this._eventTarget.addEventListener('mute', cb);\n  }\n  set onunmute(cb) {\n    this._eventTarget.addEventListener('unmute', cb);\n  }\n  set onsilentrecording(cb) {\n    this._eventTarget.addEventListener('silentrecording', cb);\n  }\n  set onunsilentrecording(cb) {\n    this._eventTarget.addEventListener('unsilentrecording', cb);\n  }\n  set onquiet(cb) {\n    this._eventTarget.addEventListener('quiet', cb);\n  }\n  set onunquiet(cb) {\n    this._eventTarget.addEventListener('unquiet', cb);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/recorder.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = 170\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = 171\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 172\n// module chunks = 0","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = 173\n// module chunks = 0","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = 174\n// module chunks = 0","module.exports = function() {\n  return require(\"!!/Users/jcalho/projects/aws-lex-web-ui/lex-web-ui/node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, {\\n/******/ \\t\\t\\t\\tconfigurable: false,\\n/******/ \\t\\t\\t\\tenumerable: true,\\n/******/ \\t\\t\\t\\tget: getter\\n/******/ \\t\\t\\t});\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"/\\\";\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = 0);\\n/******/ })\\n/************************************************************************/\\n/******/ ([\\n/* 0 */\\n/***/ (function(module, exports) {\\n\\n// based on https://github.com/mattdiamond/Recorderjs/blob/master/src/recorder.js\\n// with a few optimizations including downsampling and trimming quiet samples\\n\\n/* global Blob self */\\n/* eslint no-restricted-globals: off */\\n/* eslint prefer-arrow-callback: [\\\"error\\\", { \\\"allowNamedFunctions\\\": true }] */\\n/* eslint no-param-reassign: [\\\"error\\\", { \\\"props\\\": false }] */\\n/* eslint no-use-before-define: [\\\"error\\\", { \\\"functions\\\": false }] */\\n/* eslint no-plusplus: off */\\n/* eslint comma-dangle: [\\\"error\\\", {\\\"functions\\\": \\\"never\\\", \\\"objects\\\": \\\"always-multiline\\\"}] */\\n/* eslint-disable prefer-destructuring */\\nconst bitDepth = 16;\\nconst bytesPerSample = bitDepth / 8;\\nconst outSampleRate = 16000;\\nconst outNumChannels = 1;\\n\\nlet recLength = 0;\\nlet recBuffers = [];\\n\\nconst options = {\\n  sampleRate: 44000,\\n  numChannels: 1,\\n  useDownsample: true,\\n  // controls if the encoder will trim silent samples at begining and end of buffer\\n  useTrim: true,\\n  // trim samples below this value at the beginnig and end of the buffer\\n  // lower the value trim less silence (larger file size)\\n  // reasonable values seem to be between 0.005 and 0.0005\\n  quietTrimThreshold: 0.0008,\\n  // how many samples to add back to the buffer before/after the quiet threshold\\n  // higher values result in less silence trimming (larger file size)\\n  // reasonable values seem to be between 3500 and 5000\\n  quietTrimSlackBack: 4000,\\n};\\n\\nself.onmessage = (evt) => {\\n  switch (evt.data.command) {\\n    case 'init':\\n      init(evt.data.config);\\n      break;\\n    case 'record':\\n      record(evt.data.buffer);\\n      break;\\n    case 'exportWav':\\n      exportWAV(evt.data.type);\\n      break;\\n    case 'getBuffer':\\n      getBuffer();\\n      break;\\n    case 'clear':\\n      clear();\\n      break;\\n    case 'close':\\n      self.close();\\n      break;\\n    default:\\n      break;\\n  }\\n};\\n\\nfunction init(config) {\\n  Object.assign(options, config);\\n  initBuffers();\\n}\\n\\nfunction record(inputBuffer) {\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    recBuffers[channel].push(inputBuffer[channel]);\\n  }\\n  recLength += inputBuffer[0].length;\\n}\\n\\nfunction exportWAV(type) {\\n  const buffers = [];\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    buffers.push(mergeBuffers(recBuffers[channel], recLength));\\n  }\\n  let interleaved;\\n  if (options.numChannels === 2 && outNumChannels === 2) {\\n    interleaved = interleave(buffers[0], buffers[1]);\\n  } else {\\n    interleaved = buffers[0];\\n  }\\n  const downsampledBuffer = downsampleTrimBuffer(interleaved, outSampleRate);\\n  const dataview = encodeWAV(downsampledBuffer);\\n  const audioBlob = new Blob([dataview], { type });\\n\\n  self.postMessage({\\n    command: 'exportWAV',\\n    data: audioBlob,\\n  });\\n}\\n\\nfunction getBuffer() {\\n  const buffers = [];\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    buffers.push(mergeBuffers(recBuffers[channel], recLength));\\n  }\\n  self.postMessage({ command: 'getBuffer', data: buffers });\\n}\\n\\nfunction clear() {\\n  recLength = 0;\\n  recBuffers = [];\\n  initBuffers();\\n}\\n\\nfunction initBuffers() {\\n  for (let channel = 0; channel < options.numChannels; channel++) {\\n    recBuffers[channel] = [];\\n  }\\n}\\n\\nfunction mergeBuffers(recBuffer, length) {\\n  const result = new Float32Array(length);\\n  let offset = 0;\\n  for (let i = 0; i < recBuffer.length; i++) {\\n    result.set(recBuffer[i], offset);\\n    offset += recBuffer[i].length;\\n  }\\n  return result;\\n}\\n\\nfunction interleave(inputL, inputR) {\\n  const length = inputL.length + inputR.length;\\n  const result = new Float32Array(length);\\n\\n  let index = 0;\\n  let inputIndex = 0;\\n\\n  while (index < length) {\\n    result[index++] = inputL[inputIndex];\\n    result[index++] = inputR[inputIndex];\\n    inputIndex++;\\n  }\\n  return result;\\n}\\n\\nfunction floatTo16BitPCM(output, offset, input) {\\n  for (let i = 0, o = offset; i < input.length; i++, o += 2) {\\n    const s = Math.max(-1, Math.min(1, input[i]));\\n    output.setInt16(o, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\\n  }\\n}\\n\\n// Lex doesn't require proper wav header\\n// still inserting wav header for playing on client side\\nfunction addHeader(view, length) {\\n  // RIFF identifier 'RIFF'\\n  view.setUint32(0, 1380533830, false);\\n  // file length minus RIFF identifier length and file description length\\n  view.setUint32(4, 36 + length, true);\\n  // RIFF type 'WAVE'\\n  view.setUint32(8, 1463899717, false);\\n  // format chunk identifier 'fmt '\\n  view.setUint32(12, 1718449184, false);\\n  // format chunk length\\n  view.setUint32(16, 16, true);\\n  // sample format (raw)\\n  view.setUint16(20, 1, true);\\n  // channel count\\n  view.setUint16(22, outNumChannels, true);\\n  // sample rate\\n  view.setUint32(24, outSampleRate, true);\\n  // byte rate (sample rate * block align)\\n  view.setUint32(28, outSampleRate * bytesPerSample * outNumChannels, true);\\n  // block align (channel count * bytes per sample)\\n  view.setUint16(32, bytesPerSample * outNumChannels, true);\\n  // bits per sample\\n  view.setUint16(34, bitDepth, true);\\n  // data chunk identifier 'data'\\n  view.setUint32(36, 1684108385, false);\\n}\\n\\nfunction encodeWAV(samples) {\\n  const buffer = new ArrayBuffer(44 + (samples.length * 2));\\n  const view = new DataView(buffer);\\n\\n  addHeader(view, samples.length);\\n  floatTo16BitPCM(view, 44, samples);\\n\\n  return view;\\n}\\n\\nfunction downsampleTrimBuffer(buffer, rate) {\\n  if (rate === options.sampleRate) {\\n    return buffer;\\n  }\\n\\n  const length = buffer.length;\\n  const sampleRateRatio = options.sampleRate / rate;\\n  const newLength = Math.round(length / sampleRateRatio);\\n\\n  const result = new Float32Array(newLength);\\n  let offsetResult = 0;\\n  let offsetBuffer = 0;\\n  let firstNonQuiet = 0;\\n  let lastNonQuiet = length;\\n  while (offsetResult < result.length) {\\n    const nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\\n    let accum = 0;\\n    let count = 0;\\n    for (let i = offsetBuffer; (i < nextOffsetBuffer) && (i < length); i++) {\\n      accum += buffer[i];\\n      count++;\\n    }\\n    // mark first and last sample over the quiet threshold\\n    if (accum > options.quietTrimThreshold) {\\n      if (firstNonQuiet === 0) {\\n        firstNonQuiet = offsetResult;\\n      }\\n      lastNonQuiet = offsetResult;\\n    }\\n    result[offsetResult] = accum / count;\\n    offsetResult++;\\n    offsetBuffer = nextOffsetBuffer;\\n  }\\n\\n  /*\\n  console.info('encoder trim size reduction',\\n    (Math.min(newLength, lastNonQuiet + options.quietTrimSlackBack) -\\n    Math.max(0, firstNonQuiet - options.quietTrimSlackBack)) / result.length\\n  );\\n  */\\n  return (options.useTrim) ?\\n    // slice based on quiet threshold and put slack back into the buffer\\n    result.slice(\\n      Math.max(0, firstNonQuiet - options.quietTrimSlackBack),\\n      Math.min(newLength, lastNonQuiet + options.quietTrimSlackBack)\\n    ) :\\n    result;\\n}\\n\\n\\n/***/ })\\n/******/ ]);\\n//# sourceMappingURL=wav-worker.js.map\", __webpack_public_path__ + \"bundle/wav-worker.js\");\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/wav-worker.js","'use strict';\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/worker-loader/dist/workers/InlineWorker.js\n// module id = 176\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/**\n * Vuex store recorder handlers\n */\n\n/* eslint no-console: [\"error\", { allow: [\"info\", \"warn\", \"error\", \"time\", \"timeEnd\"] }] */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n\nconst initRecorderHandlers = (context, recorder) => {\n  /* global Blob */\n\n  recorder.onstart = () => {\n    console.info('recorder start event triggered');\n    console.time('recording time');\n  };\n  recorder.onstop = () => {\n    context.dispatch('stopRecording');\n    console.timeEnd('recording time');\n    console.time('recording processing time');\n    console.info('recorder stop event triggered');\n  };\n  recorder.onsilentrecording = () => {\n    console.info('recorder silent recording triggered');\n    context.commit('increaseSilentRecordingCount');\n  };\n  recorder.onunsilentrecording = () => {\n    if (context.state.recState.silentRecordingCount > 0) {\n      context.commit('resetSilentRecordingCount');\n    }\n  };\n  recorder.onerror = (e) => {\n    console.error('recorder onerror event triggered', e);\n  };\n  recorder.onstreamready = () => {\n    console.info('recorder stream ready event triggered');\n  };\n  recorder.onmute = () => {\n    console.info('recorder mute event triggered');\n    context.commit('setIsMicMuted', true);\n  };\n  recorder.onunmute = () => {\n    console.info('recorder unmute event triggered');\n    context.commit('setIsMicMuted', false);\n  };\n  recorder.onquiet = () => {\n    console.info('recorder quiet event triggered');\n    context.commit('setIsMicQuiet', true);\n  };\n  recorder.onunquiet = () => {\n    console.info('recorder unquiet event triggered');\n    context.commit('setIsMicQuiet', false);\n  };\n\n  // TODO need to change recorder event setter to support\n  // replacing handlers instead of adding\n  recorder.ondataavailable = (e) => {\n    const { mimeType } = recorder;\n    console.info('recorder data available event triggered');\n    const audioBlob = new Blob([e.detail], { type: mimeType });\n    // XXX not used for now since only encoding WAV format\n    let offset = 0;\n    // offset is only needed for opus encoded ogg files\n    // extract the offset where the opus frames are found\n    // leaving for future reference\n    // https://tools.ietf.org/html/rfc7845\n    // https://tools.ietf.org/html/rfc6716\n    // https://www.xiph.org/ogg/doc/framing.html\n    if (mimeType.startsWith('audio/ogg')) {\n      offset = 125 + e.detail[125] + 1;\n    }\n    console.timeEnd('recording processing time');\n\n    context.dispatch('lexPostContent', audioBlob, offset)\n      .then((lexAudioBlob) => {\n        if (context.state.recState.silentRecordingCount >=\n          context.state.config.converser.silentConsecutiveRecordingMax\n        ) {\n          const errorMessage =\n            'Too many consecutive silent recordings: ' +\n            `${context.state.recState.silentRecordingCount}.`;\n          return Promise.reject(new Error(errorMessage));\n        }\n        return Promise.all([\n          context.dispatch('getAudioUrl', audioBlob),\n          context.dispatch('getAudioUrl', lexAudioBlob),\n        ]);\n      })\n      .then((audioUrls) => {\n        // handle being interrupted by text\n        if (context.state.lex.dialogState !== 'Fulfilled' &&\n            !context.state.recState.isConversationGoing\n        ) {\n          return Promise.resolve();\n        }\n        const [humanAudioUrl, lexAudioUrl] = audioUrls;\n        context.dispatch('pushMessage', {\n          type: 'human',\n          audio: humanAudioUrl,\n          text: context.state.lex.inputTranscript,\n        });\n        context.dispatch('pushMessage', {\n          type: 'bot',\n          audio: lexAudioUrl,\n          text: context.state.lex.message,\n          dialogState: context.state.lex.dialogState,\n          responseCard: context.state.lex.responseCard,\n        });\n        return context.dispatch('playAudio', lexAudioUrl, {}, offset);\n      })\n      .then(() => {\n        if (\n          ['Fulfilled', 'ReadyForFulfillment', 'Failed']\n            .indexOf(context.state.lex.dialogState) >= 0\n        ) {\n          return context.dispatch('stopConversation')\n            .then(() => context.dispatch('reInitBot'));\n        }\n\n        if (context.state.recState.isConversationGoing) {\n          return context.dispatch('startRecording');\n        }\n        return Promise.resolve();\n      })\n      .catch((error) => {\n        const errorMessage = (context.state.config.ui.showErrorDetails) ?\n          ` ${error}` : '';\n        console.error('converser error:', error);\n        context.dispatch('stopConversation');\n        context.dispatch(\n          'pushErrorMessage',\n          `Sorry, I had an error handling this conversation.${errorMessage}`,\n        );\n        context.commit('resetSilentRecordingCount');\n      });\n  };\n};\nexport default initRecorderHandlers;\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/recorder-handlers.js","module.exports = \"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAyzN3NAAAAAGFf2X8BM39GTEFDAQAAAWZMYUMAAAAiEgASAAAAAAAkFQrEQPAAAAAAAAAAAAAAAAAAAAAAAAAAAE9nZ1MAAAAAAAAAAAAAMszdzQEAAAD5LKCSATeEAAAzDQAAAExhdmY1NS40OC4xMDABAAAAGgAAAGVuY29kZXI9TGF2YzU1LjY5LjEwMCBmbGFjT2dnUwAEARIAAAAAAAAyzN3NAgAAAKWVljkCDAD/+GkIAAAdAAABICI=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/silent.ogg\n// module id = 178\n// module chunks = 0","module.exports = \"data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/silent.mp3\n// module id = 179\n// module chunks = 0","/*\n Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n\n Licensed under the Amazon Software License (the \"License\"). You may not use this file\n except in compliance with the License. A copy of the License is located at\n\n http://aws.amazon.com/asl/\n\n or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\"\n BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied. See the\n License for the specific language governing permissions and limitations under the License.\n */\n\n/* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\nexport default class {\n  constructor({\n    botName,\n    botAlias = '$LATEST',\n    userId,\n    lexRuntimeClient,\n  }) {\n    if (!botName || !lexRuntimeClient) {\n      throw new Error('invalid lex client constructor arguments');\n    }\n\n    this.botName = botName;\n    this.botAlias = botAlias;\n    this.userId = userId ||\n      'lex-web-ui-' +\n      `${Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1)}`;\n\n    this.lexRuntimeClient = lexRuntimeClient;\n    this.credentials = this.lexRuntimeClient.config.credentials;\n  }\n\n  initCredentials(credentials) {\n    this.credentials = credentials;\n    this.lexRuntimeClient.config.credentials = this.credentials;\n    this.userId = (credentials.identityId) ?\n      credentials.identityId :\n      this.userId;\n  }\n\n  postText(inputText, sessionAttributes = {}) {\n    const postTextReq = this.lexRuntimeClient.postText({\n      botAlias: this.botAlias,\n      botName: this.botName,\n      userId: this.userId,\n      inputText,\n      sessionAttributes,\n    });\n    return this.credentials.getPromise()\n      .then(creds => creds && this.initCredentials(creds))\n      .then(() => postTextReq.promise());\n  }\n\n  postContent(\n    blob,\n    sessionAttributes = {},\n    acceptFormat = 'audio/ogg',\n    offset = 0,\n  ) {\n    const mediaType = blob.type;\n    let contentType = mediaType;\n\n    if (mediaType.startsWith('audio/wav')) {\n      contentType = 'audio/x-l16; sample-rate=16000; channel-count=1';\n    } else if (mediaType.startsWith('audio/ogg')) {\n      contentType =\n      'audio/x-cbr-opus-with-preamble; bit-rate=32000;' +\n        ` frame-size-milliseconds=20; preamble-size=${offset}`;\n    } else {\n      console.warn('unknown media type in lex client');\n    }\n\n    const postContentReq = this.lexRuntimeClient.postContent({\n      accept: acceptFormat,\n      botAlias: this.botAlias,\n      botName: this.botName,\n      userId: this.userId,\n      contentType,\n      inputStream: blob,\n      sessionAttributes,\n    });\n\n    return this.credentials.getPromise()\n      .then(creds => creds && this.initCredentials(creds))\n      .then(() => postContentReq.promise());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/lex/client.js"],"sourceRoot":""}